{"ast":null,"code":"var _jsxFileName = \"/home/kkk/Desktop/test/dyp-vault-themed-master/src/components/vault.js\";\nimport React from 'react';\nimport moment from 'moment'; // import { NavLink } from 'react-router-dom'\n\nimport getFormattedNumber from '../functions/get-formatted-number';\nimport Address from './address';\nimport Boxes from './boxes'; // import Clipboard from 'react-clipboard.js'\n// import ReactTooltip from 'react-tooltip'\n\nexport default function initVault({\n  vault,\n  platformTokenApyPercent,\n  apr = 72,\n  liquidity = 'ETH',\n  token,\n  UNDERLYING_DECIMALS = 18,\n  UNDERLYING_SYMBOL = 'DAI',\n  expiration_time\n}) {\n  let {\n    BigNumber,\n    alertify\n  } = window;\n  let token_symbol = UNDERLYING_SYMBOL; // token, staking\n\n  const TOKEN_DECIMALS = UNDERLYING_DECIMALS;\n\n  function download(filename, text) {\n    var element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  function jsonToCsv(items) {\n    const replacer = (key, value) => value === null ? '' : value; // specify how you want to handle null values here\n\n\n    const header = Object.keys(items[0]);\n    let csv = items.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','));\n    csv.unshift(header.join(','));\n    csv = csv.join('\\r\\n');\n    return csv;\n  }\n\n  window.handleDownload = ({\n    stakers,\n    stakingTimes,\n    lastClaimedTimes,\n    stakedTokens\n  }) => {\n    let list = [];\n    stakers.forEach((staker, index) => {\n      list.push({\n        staker_address: staker,\n        staking_timestamp_unix: stakingTimes[index],\n        lastclaimed_timestamp_unix: lastClaimedTimes[index],\n        staking_time: getDate(stakingTimes[index] * 1e3),\n        lastclaimed_time: getDate(lastClaimedTimes[index] * 1e3),\n        staked_tokens: stakedTokens[index]\n      });\n    });\n    download('depositors-list.csv', jsonToCsv(list));\n\n    function getDate(timestamp) {\n      let a = new Date(timestamp);\n      return a.toUTCString();\n    }\n  };\n\n  class Vault extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.handleListDownload = async e => {\n        e.preventDefault();\n        let m = window.alertify.message(`Processing...`);\n\n        m.ondismiss = () => false;\n\n        let step = 100;\n        let stakers = [];\n        let stakingTimes = [];\n        let lastClaimedTimes = [];\n        let stakedTokens = [];\n        let length = await vault.getNumberOfHolders();\n        length = Number(length);\n\n        try {\n          for (let startIndex = 0; startIndex < length; startIndex += step) {\n            console.log({\n              startIndex,\n              endIndex: startIndex + step\n            });\n            let array = await vault.getDepositorsList(startIndex, Math.min(startIndex + step, length));\n            console.log(array);\n            stakers = stakers.concat(array.stakers);\n            stakingTimes = stakingTimes.concat(array.stakingTimestamps);\n            lastClaimedTimes = lastClaimedTimes.concat(array.lastClaimedTimeStamps);\n            stakedTokens = stakedTokens.concat(array.stakedTokens);\n          }\n\n          let result = {\n            stakers,\n            stakingTimes,\n            lastClaimedTimes,\n            stakedTokens\n          };\n          window.handleDownload(result);\n        } catch (e) {\n          console.error(e);\n          alertify.error(\"Something went wrong while processing!\");\n        } finally {\n          m.ondismiss = f => true;\n\n          m.dismiss();\n        }\n      };\n\n      this.handleApprove = e => {\n        e.preventDefault();\n        let amount = this.state.depositAmount;\n        amount = new BigNumber(amount).times(10 ** UNDERLYING_DECIMALS).toFixed(0);\n        token.approve(vault._address, amount);\n      };\n\n      this.handleReinvestApprove = e => {\n        e.preventDefault();\n        let amount = this.state.rdepositAmount;\n        amount = new BigNumber(amount).times(10 ** 18).toFixed(0);\n        window.token_dyp.approve(window.config.constant_staking_address, amount);\n      };\n\n      this.handleStake = async e => {\n        let amount = this.state.depositAmount;\n        amount = new BigNumber(amount).times(10 ** UNDERLYING_DECIMALS).toFixed(0);\n        let value = await this.getMinEthFeeInWei();\n        let FEE_PERCENT_TO_BUYBACK_X_100 = await vault.FEE_PERCENT_TO_BUYBACK_X_100();\n        let feeAmountEth = new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0);\n        let deadline = Math.floor(Date.now() / 1e3 + window.config.tx_max_wait_seconds);\n        let router = await window.getUniswapRouterContract();\n        let WETH = await router.methods.WETH().call();\n        let platformTokenAddress = window.config.token_dyp_address;\n        let path = [WETH, platformTokenAddress];\n\n        let _amountOutMin_ethFeeBuyBack = await router.methods.getAmountsOut(feeAmountEth, path).call();\n\n        _amountOutMin_ethFeeBuyBack = _amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length - 1];\n        _amountOutMin_ethFeeBuyBack = new BigNumber(_amountOutMin_ethFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0); //console.log({ _amountOutMin_ethFeeBuyBack, deadline, value })\n\n        vault.deposit([amount, _amountOutMin_ethFeeBuyBack, deadline], value);\n      };\n\n      this.handleReinvestDeposit = async e => {\n        let amount = this.state.rdepositAmount;\n        amount = new BigNumber(amount).times(10 ** 18).toFixed(0);\n        window.handleReinvestDeposit(amount);\n      };\n\n      this.handleWithdraw = async e => {\n        e.preventDefault();\n        let amount = this.state.withdrawAmount;\n        amount = new BigNumber(amount).times(10 ** UNDERLYING_DECIMALS).toFixed(0);\n        let value = await this.getMinEthFeeInWei();\n        let FEE_PERCENT_X_100 = await vault.FEE_PERCENT_X_100();\n        let FEE_PERCENT_TO_BUYBACK_X_100 = await vault.FEE_PERCENT_TO_BUYBACK_X_100();\n        let buyBackFeeAmountEth = new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0);\n        let feeAmountToken = new BigNumber(amount).times(FEE_PERCENT_X_100).div(100e2).toFixed(0);\n        let buyBackFeeAmountToken = new BigNumber(feeAmountToken).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0);\n        let deadline = Math.floor(Date.now() / 1e3 + window.config.tx_max_wait_seconds);\n        let router = await window.getUniswapRouterContract();\n        let WETH = await router.methods.WETH().call();\n        let platformTokenAddress = window.config.token_dyp_address;\n        let path = [WETH, platformTokenAddress];\n\n        let _amountOutMin_ethFeeBuyBack = await router.methods.getAmountsOut(buyBackFeeAmountEth, path).call();\n\n        _amountOutMin_ethFeeBuyBack = _amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length - 1];\n        _amountOutMin_ethFeeBuyBack = new BigNumber(_amountOutMin_ethFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0);\n        let tokenFeePath = [...new Set([token._address, WETH, platformTokenAddress].map(a => a.toLowerCase()))];\n\n        let _amountOutMin_tokenFeeBuyBack = await router.methods.getAmountsOut(buyBackFeeAmountToken, tokenFeePath).call();\n\n        _amountOutMin_tokenFeeBuyBack = _amountOutMin_tokenFeeBuyBack[_amountOutMin_tokenFeeBuyBack.length - 1];\n        _amountOutMin_tokenFeeBuyBack = new BigNumber(_amountOutMin_tokenFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0); //console.log({ _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline, value })\n\n        vault.withdraw([amount, _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline], value);\n      };\n\n      this.getMinEthFeeInWei = async () => {\n        let minEthFeeInWei = Number((await vault.MIN_ETH_FEE_IN_WEI()));\n        let calculatedFee = 0;\n\n        if (this.state.gasPrice) {\n          calculatedFee = 400000 * this.state.gasPrice * 10 ** 9;\n        }\n\n        return Math.max(minEthFeeInWei, calculatedFee);\n      };\n\n      this.handleClaimDivs = async e => {\n        e.preventDefault();\n        let router = await window.getUniswapRouterContract();\n        let _amountOutMin_platformTokens = [0];\n        let depositTokenAddress = token._address;\n        let platformToken = window.config.token_dyp_address;\n        let WETH = await router.methods.WETH().call();\n        let path = [...new Set([depositTokenAddress, WETH, platformToken].map(a => a.toLowerCase()))]; //console.log({ path })\n\n        try {\n          if (Number(this.state.pendingDivsDyp)) {\n            //alert(this.state.pendingDivsDyp)\n            _amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call();\n          }\n        } catch (e) {\n          console.warn(e);\n        } //_amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call()\n\n\n        _amountOutMin_platformTokens = _amountOutMin_platformTokens[_amountOutMin_platformTokens.length - 1];\n        _amountOutMin_platformTokens = new BigNumber(_amountOutMin_platformTokens).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0); //console.log({ _amountOutMin_platformTokens })\n        //alert(\"reached here!\")\n\n        vault.claim([_amountOutMin_platformTokens]);\n      };\n\n      this.handleSetMaxDeposit = e => {\n        e.preventDefault();\n        this.setState({\n          depositAmount: new BigNumber(this.state.token_balance).div(10 ** UNDERLYING_DECIMALS).toFixed(UNDERLYING_DECIMALS)\n        });\n      };\n\n      this.rhandleSetMaxDeposit = e => {\n        e.preventDefault();\n        this.setState({\n          rdepositAmount: new BigNumber(this.state.platform_token_balance).div(1e18).toFixed(18)\n        });\n      };\n\n      this.handleSetMaxWithdraw = e => {\n        e.preventDefault();\n        this.setState({\n          withdrawAmount: new BigNumber(this.state.depositedTokens).div(10 ** UNDERLYING_DECIMALS).toFixed(UNDERLYING_DECIMALS)\n        });\n      };\n\n      this.getAPY = () => {\n        return apr;\n      };\n\n      this.refreshBalance = async () => {\n        let coinbase = await window.getCoinbase();\n        this.setState({\n          coinbase\n        });\n        let pendingRewardsInToken = 0;\n\n        try {\n          let _bal = token.balanceOf(coinbase);\n\n          let _stakingTime = vault.depositTime(coinbase);\n\n          let _dTokens = vault.depositTokenBalance(coinbase);\n\n          let _lClaimTime = vault.lastClaimedTime(coinbase);\n\n          let tStakers = vault.getNumberOfHolders();\n          let [token_balance, stakingTime, depositedTokens, lastClaimedTime, total_stakers] = await Promise.all([_bal, _stakingTime, _dTokens, _lClaimTime, tStakers]); //console.log({total_stakers})\n\n          this.setState({\n            token_balance,\n            stakingTime,\n            depositedTokens,\n            lastClaimedTime,\n            total_stakers\n          });\n          let owner = await vault.owner();\n          this.setState({\n            owner\n          });\n\n          let _pDivsToken = vault.tokenDivsOwing(coinbase);\n\n          let _pDivsComp = vault.getEstimatedCompoundDivsOwing(coinbase);\n\n          let _pDivsDyp = vault.platformTokenDivsOwing(coinbase);\n\n          let _pDivsEth = vault.ethDivsOwing(coinbase);\n\n          let _pBalToken = vault.tokenDivsBalance(coinbase);\n\n          let _pBalEth = vault.ethDivsBalance(coinbase);\n\n          let _pBalDyp = vault.platformTokenDivsBalance(coinbase);\n\n          let [pendingDivsEth, pendingDivsComp, pendingDivsDyp, pendingDivsToken, pendingBalEth, pendingBalDyp, pendingBalToken] = await Promise.all([_pDivsEth, _pDivsComp, _pDivsDyp, _pDivsToken, _pBalEth, _pBalDyp, _pBalToken]);\n          pendingDivsEth = new BigNumber(pendingDivsEth).plus(pendingBalEth).toFixed(0);\n          pendingDivsToken = new BigNumber(pendingDivsToken).plus(pendingBalToken).toFixed(0);\n          pendingDivsDyp = new BigNumber(pendingDivsDyp).plus(pendingBalDyp).toFixed(0);\n          pendingRewardsInToken = pendingDivsDyp;\n          this.setState({\n            pendingDivsComp,\n            pendingDivsDyp,\n            pendingDivsEth,\n            pendingDivsToken\n          });\n        } catch (e) {\n          console.error(e);\n        }\n\n        window.token_dyp.balanceOf(coinbase).then(platform_token_balance => this.setState({\n          platform_token_balance\n        }));\n        vault.totalDepositedTokens().then(totalDepositedTokens => {\n          //console.log({ totalDepositedTokens })\n          this.setState({\n            totalDepositedTokens\n          });\n        }).catch(console.log);\n        vault.totalEarnedCompoundDivs(coinbase).then(totalEarnedComp => this.setState({\n          totalEarnedComp\n        })).catch(console.log);\n        vault.totalEarnedEthDivs(coinbase).then(totalEarnedEth => this.setState({\n          totalEarnedEth\n        })).catch(console.log);\n        vault.totalEarnedTokenDivs(coinbase).then(totalEarnedToken => this.setState({\n          totalEarnedToken\n        })).catch(console.log);\n        vault.totalEarnedPlatformTokenDivs(coinbase).then(totalEarnedDyp => this.setState({\n          totalEarnedDyp\n        })).catch(console.log);\n        vault.LOCKUP_DURATION().then(cliffTime => {\n          this.setState({\n            cliffTime: Number(cliffTime)\n          });\n        }).catch(console.error);\n        vault.contractStartTime().then(contractDeployTime => {\n          this.setState({\n            contractDeployTime\n          });\n        });\n        vault.REWARD_INTERVAL().then(disburseDuration => {\n          this.setState({\n            disburseDuration\n          });\n        });\n        let usdPerToken = (await window.getPrices('defi-yield-protocol'))['defi-yield-protocol']['usd'];\n        let dId = window.config.cg_ids[vault.tokenAddress.toLowerCase()];\n        let usdPerDepositToken = (await window.getPrices(dId))[dId]['usd']; //console.log({usdPerToken, usdPerDepositToken})\n\n        this.setState({\n          usdPerToken,\n          usdPerDepositToken\n        });\n\n        if (!this.state.rdepositAmount) {\n          let usdValueOfPendingDivsInToken = usdPerDepositToken * pendingRewardsInToken / 10 ** TOKEN_DECIMALS;\n          let dypAmount = usdValueOfPendingDivsInToken / usdPerToken; //console.log({ usdValueOfPendingDivsInToken, dypAmount })\n\n          this.setState({\n            rdepositAmount: dypAmount.toFixed(19)\n          });\n        }\n      };\n\n      this.getApproxReturn = () => {\n        let APY = this.state.apy_percent;\n        let approxDays = this.state.approxDays;\n        let approxDeposit = this.state.approxDeposit;\n        return approxDeposit * APY / 100 / 365 * approxDays;\n      };\n\n      this.state = {\n        token_balance: '',\n        platform_token_balance: '',\n        pendingDivsEth: '',\n        pendingDivsDyp: '',\n        pendingDivsToken: '',\n        pendingDivsComp: '',\n        totalEarnedEth: '',\n        totalEarnedDyp: '',\n        totalEarnedToken: '',\n        totalEarnedComp: '',\n        cliffTime: '',\n        stakingTime: '',\n        depositedTokens: '',\n        totalDepositedTokens: '',\n        lastClaimedTime: '',\n        depositAmount: '',\n        withdrawAmount: '',\n        rdepositAmount: '',\n        coinbase: '',\n        tvl_usd: '...',\n        apy_percent: '...',\n        owner: null,\n        approxDeposit: 100,\n        approxDays: 365,\n        usdPerToken: '',\n        usdPerDepositToken: '',\n        gasPrice: '',\n        contractDeployTime: '',\n        disburseDuration: ''\n      };\n    }\n\n    componentDidMount() {\n      this.refreshBalance();\n      window._refreshBalInterval = setInterval(this.refreshBalance, 8000);\n      vault.getTvlUsdAndApyPercent(UNDERLYING_DECIMALS).then(({\n        tvl_usd,\n        apy_percent\n      }) => this.setState({\n        tvl_usd,\n        apy_percent\n      })).catch(console.error);\n      fetch('https://data-api.defipulse.com/api/v1/egs/api/ethgasAPI.json?api-key=0cb24df6d59351fdfb85e84c264c1d89dada314bbd85bbb5bea318f7f995').then(res => res.json()).then(data => this.setState({\n        gasPrice: data.fast / 10\n      })).catch(console.error);\n    }\n\n    componentWillUnmount() {\n      clearInterval(window._refreshBalInterval);\n    }\n\n    render() {\n      let {\n        cliffTime,\n        token_balance,\n        depositedTokens,\n        stakingTime,\n        coinbase,\n        pendingDivsComp,\n        pendingDivsEth,\n        pendingDivsToken,\n        pendingDivsDyp,\n        totalEarnedComp,\n        totalEarnedDyp,\n        totalEarnedEth,\n        totalEarnedToken,\n        disburseDuration,\n        contractDeployTime\n      } = this.state;\n      pendingDivsEth = new BigNumber(pendingDivsEth).div(10 ** 18).toString(10);\n      pendingDivsEth = getFormattedNumber(pendingDivsEth, 18);\n      pendingDivsToken = new BigNumber(pendingDivsToken).div(10 ** TOKEN_DECIMALS).toString(10);\n      pendingDivsToken = getFormattedNumber(pendingDivsToken, TOKEN_DECIMALS);\n      pendingDivsDyp = new BigNumber(pendingDivsDyp).div(10 ** TOKEN_DECIMALS).toString(10);\n      pendingDivsDyp = getFormattedNumber(pendingDivsDyp, TOKEN_DECIMALS);\n      pendingDivsComp = new BigNumber(pendingDivsComp).div(10 ** TOKEN_DECIMALS).toString(10);\n      pendingDivsComp = getFormattedNumber(pendingDivsComp, TOKEN_DECIMALS);\n      token_balance = new BigNumber(token_balance).div(10 ** TOKEN_DECIMALS).toString(10);\n      token_balance = getFormattedNumber(token_balance, 6);\n      totalEarnedToken = new BigNumber(totalEarnedToken).div(10 ** TOKEN_DECIMALS).toString(10);\n      totalEarnedToken = getFormattedNumber(totalEarnedToken, 6);\n      totalEarnedComp = new BigNumber(totalEarnedComp).div(10 ** TOKEN_DECIMALS).toString(10);\n      totalEarnedComp = getFormattedNumber(totalEarnedComp, 6);\n      totalEarnedDyp = new BigNumber(totalEarnedDyp).div(10 ** 18).toString(10);\n      totalEarnedDyp = getFormattedNumber(totalEarnedDyp, 6);\n      totalEarnedEth = new BigNumber(totalEarnedEth).div(10 ** 18).toString(10);\n      totalEarnedEth = getFormattedNumber(totalEarnedEth, 6);\n      depositedTokens = new BigNumber(depositedTokens).div(10 ** TOKEN_DECIMALS).toString(10);\n      depositedTokens = getFormattedNumber(depositedTokens, 6);\n      stakingTime = stakingTime * 1e3;\n      cliffTime = cliffTime * 1e3;\n      let showDeposit = true;\n\n      if (!isNaN(disburseDuration) && !isNaN(contractDeployTime)) {\n        let lastDay = parseInt(disburseDuration) + parseInt(contractDeployTime);\n        let lockTimeExpire = parseInt(Date.now()) + parseInt(cliffTime);\n        lockTimeExpire = lockTimeExpire.toString().substr(0, 10); // console.log(\"now \" + lockTimeExpire)\n        // console.log('last ' + lastDay)\n\n        if (lockTimeExpire > lastDay) {\n          showDeposit = false;\n        }\n      }\n\n      let cliffTimeInWords = 'lockup period';\n      let canWithdraw = true;\n\n      if (!isNaN(cliffTime) && !isNaN(stakingTime)) {\n        if (Date.now() - stakingTime <= cliffTime) {\n          canWithdraw = false;\n          cliffTimeInWords = moment.duration(cliffTime - (Date.now() - stakingTime)).humanize(true);\n        }\n      }\n\n      let total_stakers = this.state.total_stakers;\n      total_stakers = getFormattedNumber(total_stakers, 0);\n      let APY_TOTAL = this.state.apy_percent + platformTokenApyPercent; //console.log(total_stakers)\n\n      let isOwner = String(this.state.coinbase).toLowerCase() === String(window.config.admin_address).toLowerCase();\n      let tvl_usd = getFormattedNumber(this.state.tvl_usd, 2);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"token-staking mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row token-staking-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"l-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"deposit-amount\",\n        className: \"col-md-8 d-block text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 53\n        }\n      }, \"DEPOSIT\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: Number(this.state.depositAmount) > 0 ? this.state.depositAmount : this.state.depositAmount,\n        onChange: e => this.setState({\n          depositAmount: e.target.value\n        }),\n        className: \"form-control left-radius\",\n        placeholder: \"0\",\n        type: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn  btn-primary right-radius btn-max l-light-btn\",\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: this.handleSetMaxDeposit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 57\n        }\n      }, \"MAX\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingRight: '0.3rem'\n        },\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleApprove,\n        className: \"btn  btn-block btn-primary \",\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 53\n        }\n      }, \"APPROVE\")), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: '0.3rem'\n        },\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleStake,\n        className: \"btn  btn-block btn-primary l-outline-btn\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 53\n        }\n      }, \"DEPOSIT\"))), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: '.8rem'\n        },\n        className: \"mt-1 text-center mb-0 text-muted mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 45\n        }\n      }, \"Please approve before deposit.\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"l-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleWithdraw,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"deposit-amount\",\n        className: \"d-block text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 49\n        }\n      }, \"WITHDRAW\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: this.state.withdrawAmount,\n        onChange: e => this.setState({\n          withdrawAmount: e.target.value\n        }),\n        className: \"form-control left-radius\",\n        placeholder: \"0\",\n        type: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn  btn-primary right-radius btn-max l-light-btn\",\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: this.handleSetMaxWithdraw,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 57\n        }\n      }, \"MAX\")))), /*#__PURE__*/React.createElement(\"button\", {\n        title: canWithdraw ? '' : `You recently deposited, you can withdraw ${cliffTimeInWords}`,\n        disabled: !canWithdraw,\n        className: \"btn  btn-primary btn-block l-outline-btn\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 45\n        }\n      }, \"WITHDRAW\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: '.8rem'\n        },\n        className: \"mt-1 text-center text-muted mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 45\n        }\n      }, \"0.3% fee for withdraw (75% distributed pro-rata among active vault users, whereas the remainder 25% is used to buy back DYP and burn it)\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"l-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleClaimDivs,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"deposit-amount\",\n        className: \"text-left d-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 49\n        }\n      }, \"REWARDS\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"form-control  text-right\",\n        style: {\n          border: 'none',\n          marginBottom: 0,\n          paddingLeft: 0,\n          background: 'transparent',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: '1.2rem',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 212\n        }\n      }, pendingDivsDyp), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        className: \"text-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 301\n        }\n      }, token_symbol, \" worth DYP\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"form-control  text-right\",\n        style: {\n          border: 'none',\n          marginBottom: 0,\n          paddingLeft: 0,\n          background: 'transparent',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: '1.2rem',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 212\n        }\n      }, pendingDivsEth), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        className: \"text-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 301\n        }\n      }, \"ETH\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"form-control  text-right\",\n        style: {\n          border: 'none',\n          marginBottom: 0,\n          paddingLeft: 0,\n          background: 'transparent',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: '1.2rem',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 212\n        }\n      }, pendingDivsComp), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        className: \"text-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 302\n        }\n      }, token_symbol, \" (Compound)\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"form-control  text-right\",\n        style: {\n          border: 'none',\n          marginBottom: 0,\n          paddingLeft: 0,\n          background: 'transparent',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: '1.2rem',\n          color: 'var(--text-color)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 212\n        }\n      }, pendingDivsToken), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        className: \"text-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 303\n        }\n      }, token_symbol))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn  btn-primary btn-block l-outline-btn\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 53\n        }\n      }, \"CLAIM\")))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"l-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"deposit-amount\",\n        className: \"col-12 d-block text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 53\n        }\n      }, \"REINVEST\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 77\n        }\n      }, \"Reinvest DYP into fixed staking with a 35% APR for a 4 months Lock Time. Please claim before reinvesting!\"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: Number(this.state.rdepositAmount) > 0 ? this.state.rdepositAmount : this.state.rdepositAmount,\n        onChange: e => this.setState({\n          rdepositAmount: e.target.value\n        }),\n        className: \"form-control left-radius\",\n        placeholder: \"0\",\n        type: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn  btn-primary right-radius btn-max l-light-btn\",\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: this.rhandleSetMaxDeposit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 57\n        }\n      }, \"MAX\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingRight: '0.3rem'\n        },\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleReinvestApprove,\n        className: \"btn  btn-block btn-primary \",\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 53\n        }\n      }, \"APPROVE\")), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: '0.3rem'\n        },\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleReinvestDeposit,\n        className: \"btn  btn-block btn-primary l-outline-btn\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 53\n        }\n      }, \"REINVEST\"))), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: '.8rem'\n        },\n        className: \"mt-1 text-center mb-0 text-muted mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 45\n        }\n      }, \"Please approve before reinvest.\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"l-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"deposit-amount\",\n        className: \"d-block text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 49\n        }\n      }, \"RETURN CALCULATOR\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          fontSize: '1rem',\n          fontWeight: 'normal'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 57\n        }\n      }, token_symbol, \" to Deposit\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control \",\n        value: this.state.approxDeposit,\n        onChange: e => this.setState({\n          approxDeposit: e.target.value\n        }),\n        placeholder: \"0\",\n        type: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 57\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          fontSize: '1rem',\n          fontWeight: 'normal'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 57\n        }\n      }, \"Days\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control \",\n        value: this.state.approxDays,\n        onChange: e => this.setState({\n          approxDays: e.target.value\n        }),\n        type: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 57\n        }\n      })))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 45\n        }\n      }, \"Approx. \", getFormattedNumber(this.getApproxReturn(), 6), \" \", token_symbol, \" worth rewards.\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: '.8rem'\n        },\n        className: \"mt-1 text-center text-muted mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 45\n        }\n      }, \"Approx. Value Not Considering Fees or unstable APY.\")))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Boxes, {\n        items: [{\n          title: 'TVL USD',\n          number: '$' + tvl_usd\n        }, {\n          title: `APY`,\n          number: getFormattedNumber(APY_TOTAL, 2) + '%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"l-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-responsive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          fontSize: '1.1rem',\n          fontWeight: '600',\n          padding: '.3rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 37\n        }\n      }, \"STATS\"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table-stats table table-sm table-borderless\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 49\n        }\n      }, \"My Address\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Address, {\n        style: {\n          fontFamily: 'monospace'\n        },\n        a: coinbase,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 53\n        }\n      }))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 49\n        }\n      }, \"Contract Address\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Address, {\n        style: {\n          fontFamily: 'monospace'\n        },\n        a: vault._address,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 53\n        }\n      }))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 49\n        }\n      }, \"Contract Expiration\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 76\n        }\n      }, expiration_time))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 49\n        }\n      }, \"My \", token_symbol, \" Balance\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 76\n        }\n      }, token_balance), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 109\n        }\n      }, token_symbol))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 49\n        }\n      }, \"My DYP Balance\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 76\n        }\n      }, getFormattedNumber(this.state.platform_token_balance / 1e18, 6)), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 157\n        }\n      }, \"DYP\"))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 49\n        }\n      }, \"MY \", token_symbol, \" Deposit\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 76\n        }\n      }, depositedTokens), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 111\n        }\n      }, token_symbol))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 49\n        }\n      }, \"Total \", token_symbol, \" Deposited\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 76\n        }\n      }, getFormattedNumber(this.state.totalDepositedTokens / 10 ** TOKEN_DECIMALS, 6)), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 169\n        }\n      }, token_symbol))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 49\n        }\n      }, \"MY Share\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 76\n        }\n      }, getFormattedNumber(!this.state.totalDepositedTokens ? '...' : this.state.depositedTokens / this.state.totalDepositedTokens * 100, 2)), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 224\n        }\n      }, \"%\"))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 49\n        }\n      }, \"Total Earned DYP\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 76\n        }\n      }, totalEarnedDyp), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 110\n        }\n      }, \"DYP\"))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 49\n        }\n      }, \"Total Earned \", token_symbol, \" (Compound)\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 76\n        }\n      }, totalEarnedComp), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 111\n        }\n      }, token_symbol))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 49\n        }\n      }, \"Total Earned \", token_symbol, \" (Fees)\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 76\n        }\n      }, totalEarnedToken), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 112\n        }\n      }, token_symbol))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 49\n        }\n      }, \"Total Earned ETH\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 76\n        }\n      }, totalEarnedEth), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 110\n        }\n      }, \"ETH\"))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 49\n        }\n      }, \"TVL USD\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 76\n        }\n      }, \"$\", tvl_usd), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 104\n        }\n      }, \"USD\"))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 49\n        }\n      }, \"APY\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 76\n        }\n      }, getFormattedNumber(APY_TOTAL, 2)), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 128\n        }\n      }, \"%\"))), isOwner && /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 48\n        }\n      }, \"Total Stakers\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 48\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 75\n        }\n      }, total_stakers), \" \", /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 108\n        }\n      }))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          fontSize: '1rem',\n          paddingTop: '2rem'\n        },\n        colSpan: \"2\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: `${window.config.etherscan_baseURL}/token/${token._address}?a=${coinbase}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 53\n        }\n      }, \"View Transaction History on Etherscan\"), \" \\xA0 \", /*#__PURE__*/React.createElement(\"i\", {\n        style: {\n          fontSize: '.8rem'\n        },\n        className: \"fas fa-external-link-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 229\n        }\n      }))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 45\n        }\n      }), isOwner && /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          fontSize: '1rem'\n        },\n        colSpan: \"2\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: this.handleListDownload,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        style: {\n          fontSize: '.8rem'\n        },\n        className: \"fas fa-download\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 141\n        }\n      }), \" Download Stakers List \"))))))))))));\n    }\n\n  }\n\n  return Vault;\n}","map":{"version":3,"sources":["/home/kkk/Desktop/test/dyp-vault-themed-master/src/components/vault.js"],"names":["React","moment","getFormattedNumber","Address","Boxes","initVault","vault","platformTokenApyPercent","apr","liquidity","token","UNDERLYING_DECIMALS","UNDERLYING_SYMBOL","expiration_time","BigNumber","alertify","window","token_symbol","TOKEN_DECIMALS","download","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","jsonToCsv","items","replacer","key","value","header","Object","keys","csv","map","row","fieldName","JSON","stringify","join","unshift","handleDownload","stakers","stakingTimes","lastClaimedTimes","stakedTokens","list","forEach","staker","index","push","staker_address","staking_timestamp_unix","lastclaimed_timestamp_unix","staking_time","getDate","lastclaimed_time","staked_tokens","timestamp","a","Date","toUTCString","Vault","Component","constructor","props","handleListDownload","e","preventDefault","m","message","ondismiss","step","length","getNumberOfHolders","Number","startIndex","console","log","endIndex","array","getDepositorsList","Math","min","concat","stakingTimestamps","lastClaimedTimeStamps","result","error","f","dismiss","handleApprove","amount","state","depositAmount","times","toFixed","approve","_address","handleReinvestApprove","rdepositAmount","token_dyp","config","constant_staking_address","handleStake","getMinEthFeeInWei","FEE_PERCENT_TO_BUYBACK_X_100","feeAmountEth","div","deadline","floor","now","tx_max_wait_seconds","router","getUniswapRouterContract","WETH","methods","call","platformTokenAddress","token_dyp_address","path","_amountOutMin_ethFeeBuyBack","getAmountsOut","slippage_tolerance_percent","deposit","handleReinvestDeposit","handleWithdraw","withdrawAmount","FEE_PERCENT_X_100","buyBackFeeAmountEth","feeAmountToken","buyBackFeeAmountToken","tokenFeePath","Set","toLowerCase","_amountOutMin_tokenFeeBuyBack","withdraw","minEthFeeInWei","MIN_ETH_FEE_IN_WEI","calculatedFee","gasPrice","max","handleClaimDivs","_amountOutMin_platformTokens","depositTokenAddress","platformToken","pendingDivsDyp","warn","claim","handleSetMaxDeposit","setState","token_balance","rhandleSetMaxDeposit","platform_token_balance","handleSetMaxWithdraw","depositedTokens","getAPY","refreshBalance","coinbase","getCoinbase","pendingRewardsInToken","_bal","balanceOf","_stakingTime","depositTime","_dTokens","depositTokenBalance","_lClaimTime","lastClaimedTime","tStakers","stakingTime","total_stakers","Promise","all","owner","_pDivsToken","tokenDivsOwing","_pDivsComp","getEstimatedCompoundDivsOwing","_pDivsDyp","platformTokenDivsOwing","_pDivsEth","ethDivsOwing","_pBalToken","tokenDivsBalance","_pBalEth","ethDivsBalance","_pBalDyp","platformTokenDivsBalance","pendingDivsEth","pendingDivsComp","pendingDivsToken","pendingBalEth","pendingBalDyp","pendingBalToken","plus","then","totalDepositedTokens","catch","totalEarnedCompoundDivs","totalEarnedComp","totalEarnedEthDivs","totalEarnedEth","totalEarnedTokenDivs","totalEarnedToken","totalEarnedPlatformTokenDivs","totalEarnedDyp","LOCKUP_DURATION","cliffTime","contractStartTime","contractDeployTime","REWARD_INTERVAL","disburseDuration","usdPerToken","getPrices","dId","cg_ids","tokenAddress","usdPerDepositToken","usdValueOfPendingDivsInToken","dypAmount","getApproxReturn","APY","apy_percent","approxDays","approxDeposit","tvl_usd","componentDidMount","_refreshBalInterval","setInterval","getTvlUsdAndApyPercent","fetch","res","json","data","fast","componentWillUnmount","clearInterval","render","toString","showDeposit","isNaN","lastDay","parseInt","lockTimeExpire","substr","cliffTimeInWords","canWithdraw","duration","humanize","APY_TOTAL","isOwner","String","admin_address","target","cursor","paddingRight","paddingLeft","fontSize","border","marginBottom","background","color","fontWeight","title","number","padding","fontFamily","paddingTop","etherscan_baseURL"],"mappings":"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","sourcesContent":["import React from 'react'\nimport moment from 'moment'\n// import { NavLink } from 'react-router-dom'\nimport getFormattedNumber from '../functions/get-formatted-number'\nimport Address from './address'\nimport Boxes from './boxes'\n// import Clipboard from 'react-clipboard.js'\n// import ReactTooltip from 'react-tooltip'\n\nexport default function initVault({ vault, platformTokenApyPercent, apr=72, liquidity='ETH', token, UNDERLYING_DECIMALS=18, UNDERLYING_SYMBOL='DAI', expiration_time }) {\n\n    let { BigNumber, alertify } = window\n    let token_symbol = UNDERLYING_SYMBOL\n\n    // token, staking\n\n    const TOKEN_DECIMALS = UNDERLYING_DECIMALS\n\n    function download(filename, text) {\n        var element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n        element.setAttribute('download', filename);\n\n        element.style.display = 'none';\n        document.body.appendChild(element);\n\n        element.click();\n\n        document.body.removeChild(element);\n    }\n\n    function jsonToCsv(items) {\n        const replacer = (key, value) => value === null ? '' : value // specify how you want to handle null values here\n        const header = Object.keys(items[0])\n        let csv = items.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','))\n        csv.unshift(header.join(','))\n        csv = csv.join('\\r\\n')\n        return csv\n    }\n\n    window.handleDownload = ({ stakers, stakingTimes, lastClaimedTimes, stakedTokens }) => {\n        let list = []\n        stakers.forEach((staker, index) => {\n            list.push({\n                staker_address: staker,\n                staking_timestamp_unix: stakingTimes[index],\n                lastclaimed_timestamp_unix: lastClaimedTimes[index],\n                staking_time: getDate(stakingTimes[index] * 1e3),\n                lastclaimed_time: getDate(lastClaimedTimes[index] * 1e3),\n                staked_tokens: stakedTokens[index]\n            })\n        })\n        download('depositors-list.csv', jsonToCsv(list))\n\n        function getDate(timestamp) {\n            let a = new Date(timestamp)\n            return a.toUTCString()\n        }\n    }\n\n    class Vault extends React.Component {\n        constructor(props) {\n            super(props)\n            this.state = {\n                token_balance: '',\n                platform_token_balance: '',\n\n                pendingDivsEth: '',\n                pendingDivsDyp: '',\n                pendingDivsToken: '',\n                pendingDivsComp: '',\n\n                totalEarnedEth: '',\n                totalEarnedDyp: '',\n                totalEarnedToken: '',\n                totalEarnedComp: '',\n\n                cliffTime: '',\n                stakingTime: '',\n                depositedTokens: '',\n                totalDepositedTokens: '',\n                lastClaimedTime: '',\n\n                depositAmount: '',\n                withdrawAmount: '',\n                rdepositAmount: '',\n\n                coinbase: '',\n                tvl_usd: '...',\n                apy_percent: '...',                \n                owner: null,\n                approxDeposit: 100 ,\n                approxDays: 365,\n                \n                usdPerToken: '',\n                usdPerDepositToken: '',\n\n                gasPrice: '',\n\n                contractDeployTime: '',\n                disburseDuration: ''\n\n            }\n        }\n\n        handleListDownload = async (e) => {\n            e.preventDefault()\n            let m = window.alertify.message(`Processing...`)\n            m.ondismiss = () => false\n            let step = 100;\n            let stakers = []\n            let stakingTimes = []\n            let lastClaimedTimes = []\n            let stakedTokens = []\n            let length = await vault.getNumberOfHolders()\n            length = Number(length)\n            try {\n                for (let startIndex = 0; startIndex < length; startIndex += step) {\n                    console.log({ startIndex, endIndex: startIndex + step })\n                    let array = await vault.getDepositorsList(startIndex, Math.min(startIndex + step, length))\n                    console.log(array)\n                    stakers = stakers.concat(array.stakers)\n                    stakingTimes = stakingTimes.concat(array.stakingTimestamps)\n                    lastClaimedTimes = lastClaimedTimes.concat(array.lastClaimedTimeStamps)\n                    stakedTokens = stakedTokens.concat(array.stakedTokens)\n                }\n                let result = { stakers, stakingTimes, lastClaimedTimes, stakedTokens }\n                window.handleDownload(result)\n            } catch (e) {\n                console.error(e)\n                alertify.error(\"Something went wrong while processing!\")\n            }\n            finally {\n                m.ondismiss = f => true\n                m.dismiss()\n            }\n        }\n\n        componentDidMount() {\n            this.refreshBalance()\n            window._refreshBalInterval = setInterval(this.refreshBalance, 8000)\n            vault.getTvlUsdAndApyPercent(UNDERLYING_DECIMALS)\n                .then(({tvl_usd, apy_percent}) => this.setState({tvl_usd, apy_percent}))\n                .catch(console.error)\n\n            fetch('https://data-api.defipulse.com/api/v1/egs/api/ethgasAPI.json?api-key=0cb24df6d59351fdfb85e84c264c1d89dada314bbd85bbb5bea318f7f995')\n                .then(res => res.json())\n                .then(data => this.setState({gasPrice: data.fast/10}))\n                .catch(console.error)\n        }\n\n        componentWillUnmount() {\n            clearInterval(window._refreshBalInterval)\n        }\n\n        handleApprove = (e) => {\n            e.preventDefault()\n            let amount = this.state.depositAmount\n            amount = new BigNumber(amount).times(10**UNDERLYING_DECIMALS).toFixed(0)\n            token.approve(vault._address, amount)\n        }\n        handleReinvestApprove = (e) => {\n            e.preventDefault()\n            let amount = this.state.rdepositAmount\n            amount = new BigNumber(amount).times(10**18).toFixed(0)\n            window.token_dyp.approve(window.config.constant_staking_address, amount)\n        }\n        handleStake = async (e) => {\n            let amount = this.state.depositAmount\n            amount = new BigNumber(amount).times(10**UNDERLYING_DECIMALS).toFixed(0)\n            let value = await this.getMinEthFeeInWei()\n\n            let FEE_PERCENT_TO_BUYBACK_X_100 = await vault.FEE_PERCENT_TO_BUYBACK_X_100()\n            let feeAmountEth = new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0)\n\n            let deadline = Math.floor(Date.now()/1e3 + window.config.tx_max_wait_seconds)\n            let router = await window.getUniswapRouterContract()\n\n            let WETH = await router.methods.WETH().call()\n            let platformTokenAddress = window.config.token_dyp_address\n\n            let path = [WETH, platformTokenAddress]\n\n            let _amountOutMin_ethFeeBuyBack = await router.methods.getAmountsOut(feeAmountEth, path).call()\n            _amountOutMin_ethFeeBuyBack = _amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length - 1]\n            _amountOutMin_ethFeeBuyBack = new BigNumber(_amountOutMin_ethFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n\n            //console.log({ _amountOutMin_ethFeeBuyBack, deadline, value })\n            vault.deposit([amount, _amountOutMin_ethFeeBuyBack, deadline], value)\n        }\n        handleReinvestDeposit = async (e) => {\n            let amount = this.state.rdepositAmount\n            amount = new BigNumber(amount).times(10**18).toFixed(0)\n            window.handleReinvestDeposit(amount)\n        }\n\n        handleWithdraw = async (e) => {\n            e.preventDefault()\n            let amount = this.state.withdrawAmount\n            amount = new BigNumber(amount).times(10**UNDERLYING_DECIMALS).toFixed(0)\n            let value = await this.getMinEthFeeInWei()\n\n            let FEE_PERCENT_X_100 = await vault.FEE_PERCENT_X_100()\n            let FEE_PERCENT_TO_BUYBACK_X_100 = await vault.FEE_PERCENT_TO_BUYBACK_X_100()\n            let buyBackFeeAmountEth = new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0)\n            let feeAmountToken = new BigNumber(amount).times(FEE_PERCENT_X_100).div(100e2).toFixed(0)\n            let buyBackFeeAmountToken = new BigNumber(feeAmountToken).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0)\n\n            let deadline = Math.floor(Date.now()/1e3 + window.config.tx_max_wait_seconds)\n            let router = await window.getUniswapRouterContract()\n\n            let WETH = await router.methods.WETH().call()\n            let platformTokenAddress = window.config.token_dyp_address\n\n            let path = [WETH, platformTokenAddress]\n\n            let _amountOutMin_ethFeeBuyBack = await router.methods.getAmountsOut(buyBackFeeAmountEth, path).call()\n            _amountOutMin_ethFeeBuyBack = _amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length - 1]\n            _amountOutMin_ethFeeBuyBack = new BigNumber(_amountOutMin_ethFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n\n            let tokenFeePath = [...new Set([token._address , WETH, platformTokenAddress].map(a => a.toLowerCase()))]\n\n            let _amountOutMin_tokenFeeBuyBack = await router.methods.getAmountsOut(buyBackFeeAmountToken, tokenFeePath).call()\n            _amountOutMin_tokenFeeBuyBack = _amountOutMin_tokenFeeBuyBack[_amountOutMin_tokenFeeBuyBack.length - 1]\n            _amountOutMin_tokenFeeBuyBack = new BigNumber(_amountOutMin_tokenFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n            \n\n            //console.log({ _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline, value })\n\n            vault.withdraw([amount, _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline], value)\n        }\n\n        getMinEthFeeInWei = async () => {\n            let minEthFeeInWei = Number(await vault.MIN_ETH_FEE_IN_WEI())\n            let calculatedFee = 0\n            if (this.state.gasPrice) {\n                calculatedFee = 400_000 * this.state.gasPrice * 10**9;\n            }\n            return Math.max(minEthFeeInWei, calculatedFee)\n        }\n\n        handleClaimDivs = async (e) => {\n            e.preventDefault()\n            let router = await window.getUniswapRouterContract()\n            let _amountOutMin_platformTokens = [ 0 ];\n            let depositTokenAddress = token._address\n            let platformToken = window.config.token_dyp_address\n            let WETH = await router.methods.WETH().call()\n            \n            let path = [...new Set([depositTokenAddress, WETH, platformToken].map(a => a.toLowerCase()))]\n\n            //console.log({ path })\n            try {\n                if (Number(this.state.pendingDivsDyp)) {\n                    //alert(this.state.pendingDivsDyp)\n                    _amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call()\n                }\n\n            } catch (e) {\n                console.warn(e)\n            }\n\n            //_amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call()\n\n            _amountOutMin_platformTokens = _amountOutMin_platformTokens[_amountOutMin_platformTokens.length - 1]\n            _amountOutMin_platformTokens = new BigNumber(_amountOutMin_platformTokens).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n\n            //console.log({ _amountOutMin_platformTokens })\n            //alert(\"reached here!\")\n            vault.claim([_amountOutMin_platformTokens])\n        }\n\n        handleSetMaxDeposit = (e) => {\n            e.preventDefault()\n            this.setState({ depositAmount: new BigNumber(this.state.token_balance).div(10**UNDERLYING_DECIMALS).toFixed(UNDERLYING_DECIMALS) })\n        }\n        rhandleSetMaxDeposit = (e) => {\n            e.preventDefault()\n            this.setState({ rdepositAmount: new BigNumber(this.state.platform_token_balance).div(1e18).toFixed(18) })\n        }\n        handleSetMaxWithdraw = (e) => {\n            e.preventDefault()\n            this.setState({ withdrawAmount: new BigNumber(this.state.depositedTokens).div(10**UNDERLYING_DECIMALS).toFixed(UNDERLYING_DECIMALS) })\n        }\n\n        getAPY = () => {\n            return apr\n        }\n\n        refreshBalance = async () => {\n            let coinbase = await window.getCoinbase()\n            this.setState({ coinbase })\n            let pendingRewardsInToken = 0;\n            try {\n                let _bal = token.balanceOf(coinbase)\n                let _stakingTime = vault.depositTime(coinbase)\n                let _dTokens = vault.depositTokenBalance(coinbase)\n                let _lClaimTime = vault.lastClaimedTime(coinbase)\n                let tStakers = vault.getNumberOfHolders()\n                let [token_balance, stakingTime,\n                    depositedTokens, lastClaimedTime,\n                    total_stakers\n                ] = await Promise.all([_bal, _stakingTime, _dTokens, _lClaimTime, tStakers])\n\n                //console.log({total_stakers})\n\n                this.setState({\n                    token_balance,\n                    stakingTime,\n                    depositedTokens,\n                    lastClaimedTime,\n                    total_stakers,\n                })\n                let owner = await vault.owner()\n                this.setState({ owner })\n\n                let _pDivsToken = vault.tokenDivsOwing(coinbase)\n                let _pDivsComp = vault.getEstimatedCompoundDivsOwing(coinbase)\n                let _pDivsDyp = vault.platformTokenDivsOwing(coinbase)\n                let _pDivsEth = vault.ethDivsOwing(coinbase)\n\n                let _pBalToken = vault.tokenDivsBalance(coinbase)\n                let _pBalEth = vault.ethDivsBalance(coinbase)\n                let _pBalDyp = vault.platformTokenDivsBalance(coinbase)\n\n                let [pendingDivsEth, pendingDivsComp, pendingDivsDyp, pendingDivsToken,\n                    pendingBalEth, pendingBalDyp, pendingBalToken] = await Promise.all([_pDivsEth, _pDivsComp, _pDivsDyp, _pDivsToken,\n                    _pBalEth, _pBalDyp, _pBalToken])\n\n                pendingDivsEth = (new BigNumber(pendingDivsEth)).plus(pendingBalEth).toFixed(0)\n                pendingDivsToken = (new BigNumber(pendingDivsToken)).plus(pendingBalToken).toFixed(0)\n                pendingDivsDyp = (new BigNumber(pendingDivsDyp)).plus(pendingBalDyp).toFixed(0)\n\n                pendingRewardsInToken = pendingDivsDyp\n\n                this.setState({\n                    pendingDivsComp, pendingDivsDyp, pendingDivsEth, pendingDivsToken\n                })\n\n            } catch (e) {\n                console.error(e)\n            }\n\n            window.token_dyp.balanceOf(coinbase).then(platform_token_balance => this.setState({platform_token_balance}))\n\n            vault.totalDepositedTokens().then(totalDepositedTokens => {\n                //console.log({ totalDepositedTokens })\n                this.setState({totalDepositedTokens})\n            }).catch(console.log)\n\n            vault.totalEarnedCompoundDivs(coinbase).then(totalEarnedComp => this.setState({ totalEarnedComp })).catch(console.log)\n            vault.totalEarnedEthDivs(coinbase).then(totalEarnedEth => this.setState({ totalEarnedEth })).catch(console.log)\n            vault.totalEarnedTokenDivs(coinbase).then(totalEarnedToken => this.setState({ totalEarnedToken })).catch(console.log)\n            vault.totalEarnedPlatformTokenDivs(coinbase).then(totalEarnedDyp => this.setState({ totalEarnedDyp })).catch(console.log)\n\n            vault.LOCKUP_DURATION().then((cliffTime) => {\n                this.setState({ cliffTime: Number(cliffTime) })\n            }).catch(console.error)\n\n            vault.contractStartTime().then(contractDeployTime => {\n                this.setState({ contractDeployTime })\n            })\n\n            vault.REWARD_INTERVAL().then(disburseDuration => {\n                this.setState({ disburseDuration })\n            })\n\n            let usdPerToken = (await window.getPrices('defi-yield-protocol'))['defi-yield-protocol']['usd']\n            let dId = window.config.cg_ids[vault.tokenAddress.toLowerCase()]\n            let usdPerDepositToken = (await window.getPrices(dId))[dId]['usd']\n            //console.log({usdPerToken, usdPerDepositToken})\n            this.setState({usdPerToken, usdPerDepositToken})\n            \n            if (!this.state.rdepositAmount) {\n                let usdValueOfPendingDivsInToken = usdPerDepositToken * pendingRewardsInToken / 10**TOKEN_DECIMALS \n                let dypAmount = usdValueOfPendingDivsInToken / usdPerToken\n                //console.log({ usdValueOfPendingDivsInToken, dypAmount })\n                this.setState({rdepositAmount: dypAmount.toFixed(19)})\n            }\n        }\n\n\n        getApproxReturn = () => {\n            let APY = this.state.apy_percent\n            let approxDays = this.state.approxDays\n            let approxDeposit = this.state.approxDeposit\n\n            return ( approxDeposit * APY / 100 / 365 * approxDays)\n        }\n\n        render() {\n\n            let {   cliffTime, \n                    token_balance, \n                    depositedTokens, \n                    stakingTime, \n                    coinbase, \n\n                    pendingDivsComp,\n                    pendingDivsEth,\n                    pendingDivsToken,\n                    pendingDivsDyp,\n\n                    totalEarnedComp,\n                    totalEarnedDyp,\n                    totalEarnedEth, \n                    totalEarnedToken,\n                    disburseDuration,\n                    contractDeployTime\n            } = this.state\n\n            \n            pendingDivsEth = new BigNumber(pendingDivsEth ).div(10 ** 18).toString(10)\n            pendingDivsEth = getFormattedNumber(pendingDivsEth, 18)\n\n            pendingDivsToken = new BigNumber(pendingDivsToken ).div(10 ** TOKEN_DECIMALS).toString(10)\n            pendingDivsToken = getFormattedNumber(pendingDivsToken, TOKEN_DECIMALS)\n\n            pendingDivsDyp = new BigNumber(pendingDivsDyp ).div(10 ** TOKEN_DECIMALS).toString(10)\n            pendingDivsDyp = getFormattedNumber(pendingDivsDyp, TOKEN_DECIMALS)\n\n            pendingDivsComp = new BigNumber(pendingDivsComp ).div(10 ** TOKEN_DECIMALS).toString(10)\n            pendingDivsComp = getFormattedNumber(pendingDivsComp, TOKEN_DECIMALS)\n\n            token_balance = new BigNumber(token_balance ).div(10 ** TOKEN_DECIMALS).toString(10)\n            token_balance = getFormattedNumber(token_balance, 6)\n\n\n            totalEarnedToken = new BigNumber(totalEarnedToken).div(10 ** TOKEN_DECIMALS).toString(10)\n            totalEarnedToken = getFormattedNumber(totalEarnedToken, 6)\n\n            totalEarnedComp = new BigNumber(totalEarnedComp).div(10 ** TOKEN_DECIMALS).toString(10)\n            totalEarnedComp = getFormattedNumber(totalEarnedComp, 6)\n\n            totalEarnedDyp = new BigNumber(totalEarnedDyp).div(10 ** 18).toString(10)\n            totalEarnedDyp = getFormattedNumber(totalEarnedDyp, 6)\n\n            totalEarnedEth = new BigNumber(totalEarnedEth).div(10 ** 18).toString(10)\n            totalEarnedEth = getFormattedNumber(totalEarnedEth, 6)\n\n            depositedTokens = new BigNumber(depositedTokens).div(10**TOKEN_DECIMALS).toString(10)\n            depositedTokens = getFormattedNumber(depositedTokens, 6)\n\n            stakingTime = stakingTime * 1e3\n            cliffTime = cliffTime * 1e3\n\n            let showDeposit = true\n\n            if (!isNaN(disburseDuration) && !isNaN(contractDeployTime)){\n                let lastDay = parseInt(disburseDuration) + parseInt(contractDeployTime)\n                let lockTimeExpire = parseInt(Date.now()) + parseInt(cliffTime)\n                lockTimeExpire = lockTimeExpire.toString().substr(0,10)\n                // console.log(\"now \" + lockTimeExpire)\n                // console.log('last ' + lastDay)\n                if (lockTimeExpire > lastDay) {\n                    showDeposit = false\n                }\n            }\n\n            let cliffTimeInWords = 'lockup period'\n\n            let canWithdraw = true\n            if (!isNaN(cliffTime) && !isNaN(stakingTime)) {\n                if (Date.now() - stakingTime <= cliffTime) {\n                    canWithdraw = false\n                    cliffTimeInWords = moment.duration((cliffTime - (Date.now() - stakingTime))).humanize(true)\n                }\n            }\n\n            let total_stakers = this.state.total_stakers\n            total_stakers = getFormattedNumber(total_stakers, 0)\n\n            let APY_TOTAL = this.state.apy_percent + platformTokenApyPercent\n\n            //console.log(total_stakers)\n\n            let isOwner = String(this.state.coinbase).toLowerCase() === String(window.config.admin_address).toLowerCase()\n\n            let tvl_usd = getFormattedNumber(this.state.tvl_usd, 2)\n\n            return (<div>\n                \n                <div className='container'>\n                    <div className='token-staking mt-5'>\n                        <div className='row'>\n                            <div className='col-lg-6'>\n                                <div className='row token-staking-form'>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={e => e.preventDefault()}>\n                                            <div className='form-group'>\n                                                <div className='row'>\n                                                    <label htmlFor='deposit-amount' className='col-md-8 d-block text-left'>DEPOSIT</label>\n                                                    {/*<div className='col-4'>*/}\n                                                    {/*    <a target='_blank' rel='noopener noreferrer' href={`https://app.uniswap.org/#/add/0x961C8c0B1aaD0c0b10a51FeF6a867E3091BCef17/${liquidity}`} >*/}\n                                                    {/*        <button className='btn btn-sm btn-block btn-primary ' type='button'>*/}\n                                                    {/*            ADD LIQUIDITY*/}\n                                                    {/*</button>*/}\n                                                    {/*    </a>*/}\n                                                    {/*</div>*/}\n                                                </div>\n                                                <div className='input-group '>\n                                                    <input value={Number(this.state.depositAmount) > 0 ? this.state.depositAmount  : this.state.depositAmount} onChange={e => this.setState({ depositAmount: e.target.value })} className='form-control left-radius' placeholder='0' type='text' />\n                                                    <div className='input-group-append'>\n                                                        <button className='btn  btn-primary right-radius btn-max l-light-btn' style={{ cursor: 'pointer' }} onClick={this.handleSetMaxDeposit}>\n                                                            MAX\n                                                </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className='row'>\n                                                <div style={{ paddingRight: '0.3rem' }} className='col-6'>\n                                                    <button onClick={this.handleApprove} className='btn  btn-block btn-primary ' type='button'>\n                                                        APPROVE\n                                            </button>\n                                                </div>\n                                                <div style={{ paddingLeft: '0.3rem' }} className='col-6'>\n                                                    <button onClick={this.handleStake} className='btn  btn-block btn-primary l-outline-btn' type='submit'>\n                                                        DEPOSIT\n                                            </button>\n                                                </div>\n                                            </div>\n                                            <p style={{ fontSize: '.8rem' }} className='mt-1 text-center mb-0 text-muted mt-3'>\n                                                {/* Some info text here.<br /> */}\n                                        Please approve before deposit.\n                                    </p>\n\n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={this.handleWithdraw}>\n                                            <div className='form-group'>\n                                                <label htmlFor='deposit-amount' className='d-block text-left'>WITHDRAW</label>\n                                                <div className='input-group '>\n                                                    <input value={this.state.withdrawAmount} onChange={e => this.setState({ withdrawAmount:e.target.value })} className='form-control left-radius' placeholder='0' type='text' />\n                                                    <div className='input-group-append'>\n                                                        <button className='btn  btn-primary right-radius btn-max l-light-btn' style={{ cursor: 'pointer' }} onClick={this.handleSetMaxWithdraw}>\n                                                            MAX\n                                                </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <button title={canWithdraw ? '' : `You recently deposited, you can withdraw ${cliffTimeInWords}`} disabled={!canWithdraw} className='btn  btn-primary btn-block l-outline-btn' type='submit'>\n                                                WITHDRAW\n                                    </button>\n                                            <p style={{fontSize: '.8rem'}} className='mt-1 text-center text-muted mt-3'>0.3% fee for withdraw (75% distributed pro-rata among active vault users, whereas the remainder 25% is used to buy back DYP and burn it)</p>\n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={this.handleClaimDivs}>\n                                            <div className='form-group'>\n                                                <label htmlFor='deposit-amount' className='text-left d-block'>REWARDS</label>\n                                                <div className='form-row'>\n                                                    {/* <div className='col-md-6'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: '#222' }}><span style={{ fontSize: '1.2rem', color: 'rgb(255, 0, 122)' }}>{pendingDivsEth}</span> <small className='text-bold'>WETH</small></p>\n                                                    </div> */}\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsDyp}</span> <small className='text-bold'>{token_symbol} worth DYP</small></p>\n                                                    </div>\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsEth}</span> <small className='text-bold'>ETH</small></p>\n                                                    </div>\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsComp}</span> <small className='text-bold'>{token_symbol} (Compound)</small></p>\n                                                    </div>\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsToken}</span> <small className='text-bold'>{token_symbol}</small></p>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className='form-row'>\n                                                <div className='col-md-12 mb-2'>\n                                                    <button className='btn  btn-primary btn-block l-outline-btn' type='submit'>\n                                                        CLAIM\n                                                    </button>\n                                                </div>\n                                                {/* <div className='col-md-6 mb-2'>\n                                                    <button className='btn  btn-primary btn-block' type='button' onClick={this.handleReinvest}>\n                                                        REINVEST\n                                                    </button>\n                                                </div> */}\n                                            </div>\n                                           \n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={e => e.preventDefault()}>\n                                            <div className='form-group'>\n                                                <div className='row'>\n                                                    <label htmlFor='deposit-amount' className='col-12 d-block text-left'>REINVEST</label>\n                                                    <div className='col-12'><p>Reinvest DYP into fixed staking with a 35% APR for a 4 months Lock Time. Please claim before reinvesting!</p> </div>\n                                                </div>\n                                                <div className='input-group '>\n                                                    <input value={Number(this.state.rdepositAmount) > 0 ? this.state.rdepositAmount  : this.state.rdepositAmount} onChange={e => this.setState({ rdepositAmount: e.target.value })} className='form-control left-radius' placeholder='0' type='text' />\n                                                    <div className='input-group-append'>\n                                                        <button className='btn  btn-primary right-radius btn-max l-light-btn' style={{ cursor: 'pointer' }} onClick={this.rhandleSetMaxDeposit}>\n                                                            MAX\n                                                </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className='row'>\n                                                <div style={{ paddingRight: '0.3rem' }} className='col-6'>\n                                                    <button onClick={this.handleReinvestApprove} className='btn  btn-block btn-primary ' type='button'>\n                                                        APPROVE\n                                            </button>\n                                                </div>\n                                                <div style={{ paddingLeft: '0.3rem' }} className='col-6'>\n                                                    <button onClick={this.handleReinvestDeposit} className='btn  btn-block btn-primary l-outline-btn' type='submit'>\n                                                        REINVEST\n                                            </button>\n                                                </div>\n                                            </div>\n                                            <p style={{ fontSize: '.8rem' }} className='mt-1 text-center mb-0 text-muted mt-3'>\n                                                {/* Some info text here.<br /> */}\n                                        Please approve before reinvest.\n                                    </p>\n\n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'> \n                                        <form onSubmit={(e) => e.preventDefault()}>\n                                            <div className='form-group'>\n                                                <label htmlFor='deposit-amount' className='d-block text-left'>RETURN CALCULATOR</label>\n                                                <div className='row'>\n                                                    <div className='col'>\n                                                        <label style={{ fontSize: '1rem', fontWeight: 'normal' }}>{token_symbol} to Deposit</label>\n                                                        <input className='form-control ' value={ this.state.approxDeposit} onChange={e => this.setState({ approxDeposit: e.target.value })} placeholder='0' type='text' />\n                                                    </div>\n                                                    <div className='col'>\n                                                        <label style={{ fontSize: '1rem', fontWeight: 'normal' }}>Days</label>\n                                                        <input className='form-control ' value={this.state.approxDays} onChange={e => this.setState({ approxDays: e.target.value })} type='text' />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <p>\n                                                Approx. {getFormattedNumber(this.getApproxReturn(), 6)} {token_symbol} worth rewards.\n                                    </p>\n                                            <p style={{ fontSize: '.8rem' }} className='mt-1 text-center text-muted mt-3'>Approx. Value Not Considering Fees or unstable APY.</p>\n                                        </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-lg-6'>\n                            <Boxes items={[\n                                {\n                                    title: 'TVL USD',\n                                    number: '$'+tvl_usd\n                                },\n                                {\n                                    title: `APY`,\n                                    number: getFormattedNumber(APY_TOTAL, 2) + '%'\n                                }\n                            ]} />\n                                <div className='l-box'>\n                                <div className='table-responsive'>\n                                    <h3 style={{ fontSize: '1.1rem', fontWeight: '600', padding: '.3rem' }}>STATS</h3>\n                                    <table className='table-stats table table-sm table-borderless'>\n                                        <tbody>\n                                            <tr>\n                                                <th>My Address</th>\n                                                <td className='text-right'>\n                                                    <Address style={{ fontFamily: 'monospace' }} a={coinbase} />\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <th>Contract Address</th>\n                                                <td className='text-right'>\n                                                    <Address style={{ fontFamily: 'monospace' }} a={vault._address} />\n                                                </td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>Contract Expiration</th>\n                                                <td className=\"text-right\"><strong>{expiration_time}</strong></td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>My {token_symbol} Balance</th>\n                                                <td className=\"text-right\"><strong>{token_balance}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>My DYP Balance</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(this.state.platform_token_balance/1e18, 6)}</strong> <small>DYP</small></td>\n                                            </tr>\n                                    \n                                            <tr>\n                                                <th>MY {token_symbol} Deposit</th>\n                                                <td className=\"text-right\"><strong>{depositedTokens}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>Total {token_symbol} Deposited</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(this.state.totalDepositedTokens/10**TOKEN_DECIMALS, 6)}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>MY Share</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(!this.state.totalDepositedTokens ?'...' :this.state.depositedTokens/(this.state.totalDepositedTokens)*100, 2)}</strong> <small>%</small></td>\n                                            </tr>\n                                           \n                                            <tr>\n                                                <th>Total Earned DYP</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedDyp}</strong> <small>DYP</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total Earned {token_symbol} (Compound)</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedComp}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total Earned {token_symbol} (Fees)</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedToken}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total Earned ETH</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedEth}</strong> <small>ETH</small></td>\n                                            </tr>\n                    \n                                            <tr>\n                                                <th>TVL USD</th>\n                                                <td className=\"text-right\"><strong>${tvl_usd}</strong> <small>USD</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>APY</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(APY_TOTAL, 2)}</strong> <small>%</small></td>\n                                            </tr>\n                                            {isOwner && <tr>\n                                               <th>Total Stakers</th>\n                                               <td className=\"text-right\"><strong>{total_stakers}</strong> <small></small></td>\n                                            </tr>}\n                                            {/* <tr>\n                                        <th>Pending</th>\n                                        <td className=\"text-right\"><strong>{pendingDivs}</strong> <small>DYP</small></td>\n                                    </tr> */}\n\n                                            <tr>\n                                                <td style={{ fontSize: '1rem', paddingTop: '2rem' }} colSpan='2' className='text-center'>\n                                                    <a target='_blank' rel='noopener noreferrer' href={`${window.config.etherscan_baseURL}/token/${token._address}?a=${coinbase}`}>View Transaction History on Etherscan</a> &nbsp; <i style={{ fontSize: '.8rem' }} className='fas fa-external-link-alt'></i>\n                                                </td>\n                                            </tr>\n                                           \n                                            <tr>\n                                        \n                                    </tr>\n                                            {isOwner && <tr>\n                                                <td style={{ fontSize: '1rem' }} colSpan='2' className='text-center'>\n                                                    <a onClick={this.handleListDownload} target='_blank' rel='noopener noreferrer' href='#'><i style={{ fontSize: '.8rem' }} className='fas fa-download'></i> Download Stakers List </a>\n                                                </td>\n                                            </tr>}\n                                        </tbody>\n                                    </table>\n                                </div>\n                                </div>\n                            </div>\n                        </div>\n\n\n                        {/* <div className='mt-3 text-center'>\n                    <p><small>Some info text here</small></p>\n                </div> */}\n                    </div>\n                </div>\n            </div>\n            )\n        }\n    }\n\n\n    return Vault\n}\n"]},"metadata":{},"sourceType":"module"}