{"ast":null,"code":"import _slicedToArray from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/kkk/Desktop/test/dyp-vault-themed-master/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import moment from'moment';// import { NavLink } from 'react-router-dom'\nimport getFormattedNumber from'../functions/get-formatted-number';import Address from'./address';import Boxes from'./boxes';// import Clipboard from 'react-clipboard.js'\n// import ReactTooltip from 'react-tooltip'\nexport default function initVault(_ref){var vault=_ref.vault,platformTokenApyPercent=_ref.platformTokenApyPercent,_ref$apr=_ref.apr,apr=_ref$apr===void 0?72:_ref$apr,_ref$liquidity=_ref.liquidity,liquidity=_ref$liquidity===void 0?'ETH':_ref$liquidity,token=_ref.token,_ref$UNDERLYING_DECIM=_ref.UNDERLYING_DECIMALS,UNDERLYING_DECIMALS=_ref$UNDERLYING_DECIM===void 0?18:_ref$UNDERLYING_DECIM,_ref$UNDERLYING_SYMBO=_ref.UNDERLYING_SYMBOL,UNDERLYING_SYMBOL=_ref$UNDERLYING_SYMBO===void 0?'DAI':_ref$UNDERLYING_SYMBO,expiration_time=_ref.expiration_time;var _window=window,BigNumber=_window.BigNumber,alertify=_window.alertify;var token_symbol=UNDERLYING_SYMBOL;// token, staking\nvar TOKEN_DECIMALS=UNDERLYING_DECIMALS;function download(filename,text){var element=document.createElement('a');element.setAttribute('href','data:text/plain;charset=utf-8,'+encodeURIComponent(text));element.setAttribute('download',filename);element.style.display='none';document.body.appendChild(element);element.click();document.body.removeChild(element);}function jsonToCsv(items){var replacer=function replacer(key,value){return value===null?'':value;};// specify how you want to handle null values here\nvar header=Object.keys(items[0]);var csv=items.map(function(row){return header.map(function(fieldName){return JSON.stringify(row[fieldName],replacer);}).join(',');});csv.unshift(header.join(','));csv=csv.join('\\r\\n');return csv;}window.handleDownload=function(_ref2){var stakers=_ref2.stakers,stakingTimes=_ref2.stakingTimes,lastClaimedTimes=_ref2.lastClaimedTimes,stakedTokens=_ref2.stakedTokens;var list=[];stakers.forEach(function(staker,index){list.push({staker_address:staker,staking_timestamp_unix:stakingTimes[index],lastclaimed_timestamp_unix:lastClaimedTimes[index],staking_time:getDate(stakingTimes[index]*1e3),lastclaimed_time:getDate(lastClaimedTimes[index]*1e3),staked_tokens:stakedTokens[index]});});download('depositors-list.csv',jsonToCsv(list));function getDate(timestamp){var a=new Date(timestamp);return a.toUTCString();}};var Vault=/*#__PURE__*/function(_React$Component){_inherits(Vault,_React$Component);var _super=_createSuper(Vault);function Vault(props){var _this;_classCallCheck(this,Vault);_this=_super.call(this,props);_this.handleListDownload=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var m,step,stakers,stakingTimes,lastClaimedTimes,stakedTokens,length,startIndex,array,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();m=window.alertify.message(\"Processing...\");m.ondismiss=function(){return false;};step=100;stakers=[];stakingTimes=[];lastClaimedTimes=[];stakedTokens=[];_context.next=10;return vault.getNumberOfHolders();case 10:length=_context.sent;length=Number(length);_context.prev=12;startIndex=0;case 14:if(!(startIndex<length)){_context.next=27;break;}console.log({startIndex:startIndex,endIndex:startIndex+step});_context.next=18;return vault.getDepositorsList(startIndex,Math.min(startIndex+step,length));case 18:array=_context.sent;console.log(array);stakers=stakers.concat(array.stakers);stakingTimes=stakingTimes.concat(array.stakingTimestamps);lastClaimedTimes=lastClaimedTimes.concat(array.lastClaimedTimeStamps);stakedTokens=stakedTokens.concat(array.stakedTokens);case 24:startIndex+=step;_context.next=14;break;case 27:result={stakers:stakers,stakingTimes:stakingTimes,lastClaimedTimes:lastClaimedTimes,stakedTokens:stakedTokens};window.handleDownload(result);_context.next=35;break;case 31:_context.prev=31;_context.t0=_context[\"catch\"](12);console.error(_context.t0);alertify.error(\"Something went wrong while processing!\");case 35:_context.prev=35;m.ondismiss=function(f){return true;};m.dismiss();return _context.finish(35);case 39:case\"end\":return _context.stop();}}},_callee,null,[[12,31,35,39]]);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.handleApprove=function(e){e.preventDefault();var amount=_this.state.depositAmount;amount=new BigNumber(amount).times(Math.pow(10,UNDERLYING_DECIMALS)).toFixed(0);token.approve(vault._address,amount);};_this.handleReinvestApprove=function(e){e.preventDefault();var amount=_this.state.rdepositAmount;amount=new BigNumber(amount).times(Math.pow(10,18)).toFixed(0);window.token_dyp.approve(window.config.constant_staking_address,amount);};_this.handleStake=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var amount,value,FEE_PERCENT_TO_BUYBACK_X_100,feeAmountEth,deadline,router,WETH,platformTokenAddress,path,_amountOutMin_ethFeeBuyBack;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:amount=_this.state.depositAmount;amount=new BigNumber(amount).times(Math.pow(10,UNDERLYING_DECIMALS)).toFixed(0);_context2.next=4;return _this.getMinEthFeeInWei();case 4:value=_context2.sent;_context2.next=7;return vault.FEE_PERCENT_TO_BUYBACK_X_100();case 7:FEE_PERCENT_TO_BUYBACK_X_100=_context2.sent;feeAmountEth=new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0);deadline=Math.floor(Date.now()/1e3+window.config.tx_max_wait_seconds);_context2.next=12;return window.getUniswapRouterContract();case 12:router=_context2.sent;_context2.next=15;return router.methods.WETH().call();case 15:WETH=_context2.sent;platformTokenAddress=window.config.token_dyp_address;path=[WETH,platformTokenAddress];_context2.next=20;return router.methods.getAmountsOut(feeAmountEth,path).call();case 20:_amountOutMin_ethFeeBuyBack=_context2.sent;_amountOutMin_ethFeeBuyBack=_amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length-1];_amountOutMin_ethFeeBuyBack=new BigNumber(_amountOutMin_ethFeeBuyBack).times(100-window.config.slippage_tolerance_percent).div(100).toFixed(0);//console.log({ _amountOutMin_ethFeeBuyBack, deadline, value })\nvault.deposit([amount,_amountOutMin_ethFeeBuyBack,deadline],value);case 24:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref4.apply(this,arguments);};}();_this.handleReinvestDeposit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var amount;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:amount=_this.state.rdepositAmount;amount=new BigNumber(amount).times(Math.pow(10,18)).toFixed(0);window.handleReinvestDeposit(amount);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref5.apply(this,arguments);};}();_this.handleWithdraw=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var amount,value,FEE_PERCENT_X_100,FEE_PERCENT_TO_BUYBACK_X_100,buyBackFeeAmountEth,feeAmountToken,buyBackFeeAmountToken,deadline,router,WETH,platformTokenAddress,path,_amountOutMin_ethFeeBuyBack,tokenFeePath,_amountOutMin_tokenFeeBuyBack;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();amount=_this.state.withdrawAmount;amount=new BigNumber(amount).times(Math.pow(10,UNDERLYING_DECIMALS)).toFixed(0);_context4.next=5;return _this.getMinEthFeeInWei();case 5:value=_context4.sent;_context4.next=8;return vault.FEE_PERCENT_X_100();case 8:FEE_PERCENT_X_100=_context4.sent;_context4.next=11;return vault.FEE_PERCENT_TO_BUYBACK_X_100();case 11:FEE_PERCENT_TO_BUYBACK_X_100=_context4.sent;buyBackFeeAmountEth=new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0);feeAmountToken=new BigNumber(amount).times(FEE_PERCENT_X_100).div(100e2).toFixed(0);buyBackFeeAmountToken=new BigNumber(feeAmountToken).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0);deadline=Math.floor(Date.now()/1e3+window.config.tx_max_wait_seconds);_context4.next=18;return window.getUniswapRouterContract();case 18:router=_context4.sent;_context4.next=21;return router.methods.WETH().call();case 21:WETH=_context4.sent;platformTokenAddress=window.config.token_dyp_address;path=[WETH,platformTokenAddress];_context4.next=26;return router.methods.getAmountsOut(buyBackFeeAmountEth,path).call();case 26:_amountOutMin_ethFeeBuyBack=_context4.sent;_amountOutMin_ethFeeBuyBack=_amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length-1];_amountOutMin_ethFeeBuyBack=new BigNumber(_amountOutMin_ethFeeBuyBack).times(100-window.config.slippage_tolerance_percent).div(100).toFixed(0);tokenFeePath=_toConsumableArray(new Set([token._address,WETH,platformTokenAddress].map(function(a){return a.toLowerCase();})));_context4.next=32;return router.methods.getAmountsOut(buyBackFeeAmountToken,tokenFeePath).call();case 32:_amountOutMin_tokenFeeBuyBack=_context4.sent;_amountOutMin_tokenFeeBuyBack=_amountOutMin_tokenFeeBuyBack[_amountOutMin_tokenFeeBuyBack.length-1];_amountOutMin_tokenFeeBuyBack=new BigNumber(_amountOutMin_tokenFeeBuyBack).times(100-window.config.slippage_tolerance_percent).div(100).toFixed(0);//console.log({ _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline, value })\nvault.withdraw([amount,_amountOutMin_ethFeeBuyBack,_amountOutMin_tokenFeeBuyBack,deadline],value);case 36:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref6.apply(this,arguments);};}();_this.getMinEthFeeInWei=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var minEthFeeInWei,calculatedFee;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.t0=Number;_context5.next=3;return vault.MIN_ETH_FEE_IN_WEI();case 3:_context5.t1=_context5.sent;minEthFeeInWei=(0,_context5.t0)(_context5.t1);calculatedFee=0;if(_this.state.gasPrice){calculatedFee=400000*_this.state.gasPrice*Math.pow(10,9);}return _context5.abrupt(\"return\",Math.max(minEthFeeInWei,calculatedFee));case 8:case\"end\":return _context5.stop();}}},_callee5);}));_this.handleClaimDivs=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(e){var router,_amountOutMin_platformTokens,depositTokenAddress,platformToken,WETH,path;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:e.preventDefault();_context6.next=3;return window.getUniswapRouterContract();case 3:router=_context6.sent;_amountOutMin_platformTokens=[0];depositTokenAddress=token._address;platformToken=window.config.token_dyp_address;_context6.next=9;return router.methods.WETH().call();case 9:WETH=_context6.sent;path=_toConsumableArray(new Set([depositTokenAddress,WETH,platformToken].map(function(a){return a.toLowerCase();})));//console.log({ path })\n_context6.prev=11;if(!Number(_this.state.pendingDivsDyp)){_context6.next=16;break;}_context6.next=15;return router.methods.getAmountsOut(_this.state.pendingDivsDyp,path).call();case 15:_amountOutMin_platformTokens=_context6.sent;case 16:_context6.next=21;break;case 18:_context6.prev=18;_context6.t0=_context6[\"catch\"](11);console.warn(_context6.t0);case 21://_amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call()\n_amountOutMin_platformTokens=_amountOutMin_platformTokens[_amountOutMin_platformTokens.length-1];_amountOutMin_platformTokens=new BigNumber(_amountOutMin_platformTokens).times(100-window.config.slippage_tolerance_percent).div(100).toFixed(0);//console.log({ _amountOutMin_platformTokens })\n//alert(\"reached here!\")\nvault.claim([_amountOutMin_platformTokens]);case 24:case\"end\":return _context6.stop();}}},_callee6,null,[[11,18]]);}));return function(_x5){return _ref8.apply(this,arguments);};}();_this.handleSetMaxDeposit=function(e){e.preventDefault();_this.setState({depositAmount:new BigNumber(_this.state.token_balance).div(Math.pow(10,UNDERLYING_DECIMALS)).toFixed(UNDERLYING_DECIMALS)});};_this.rhandleSetMaxDeposit=function(e){e.preventDefault();_this.setState({rdepositAmount:new BigNumber(_this.state.platform_token_balance).div(1e18).toFixed(18)});};_this.handleSetMaxWithdraw=function(e){e.preventDefault();_this.setState({withdrawAmount:new BigNumber(_this.state.depositedTokens).div(Math.pow(10,UNDERLYING_DECIMALS)).toFixed(UNDERLYING_DECIMALS)});};_this.getAPY=function(){return apr;};_this.refreshBalance=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var coinbase,pendingRewardsInToken,_bal,_stakingTime,_dTokens,_lClaimTime,tStakers,_yield$Promise$all,_yield$Promise$all2,token_balance,stakingTime,depositedTokens,lastClaimedTime,total_stakers,owner,_pDivsToken,_pDivsComp,_pDivsDyp,_pDivsEth,_pBalToken,_pBalEth,_pBalDyp,_yield$Promise$all3,_yield$Promise$all4,pendingDivsEth,pendingDivsComp,pendingDivsDyp,pendingDivsToken,pendingBalEth,pendingBalDyp,pendingBalToken,usdPerToken,dId,usdPerDepositToken,usdValueOfPendingDivsInToken,dypAmount;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return window.getCoinbase();case 2:coinbase=_context7.sent;_this.setState({coinbase:coinbase});pendingRewardsInToken=0;_context7.prev=5;_bal=token.balanceOf(coinbase);_stakingTime=vault.depositTime(coinbase);_dTokens=vault.depositTokenBalance(coinbase);_lClaimTime=vault.lastClaimedTime(coinbase);tStakers=vault.getNumberOfHolders();_context7.next=13;return Promise.all([_bal,_stakingTime,_dTokens,_lClaimTime,tStakers]);case 13:_yield$Promise$all=_context7.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,5);token_balance=_yield$Promise$all2[0];stakingTime=_yield$Promise$all2[1];depositedTokens=_yield$Promise$all2[2];lastClaimedTime=_yield$Promise$all2[3];total_stakers=_yield$Promise$all2[4];//console.log({total_stakers})\n_this.setState({token_balance:token_balance,stakingTime:stakingTime,depositedTokens:depositedTokens,lastClaimedTime:lastClaimedTime,total_stakers:total_stakers});_context7.next=23;return vault.owner();case 23:owner=_context7.sent;_this.setState({owner:owner});_pDivsToken=vault.tokenDivsOwing(coinbase);_pDivsComp=vault.getEstimatedCompoundDivsOwing(coinbase);_pDivsDyp=vault.platformTokenDivsOwing(coinbase);_pDivsEth=vault.ethDivsOwing(coinbase);_pBalToken=vault.tokenDivsBalance(coinbase);_pBalEth=vault.ethDivsBalance(coinbase);_pBalDyp=vault.platformTokenDivsBalance(coinbase);_context7.next=34;return Promise.all([_pDivsEth,_pDivsComp,_pDivsDyp,_pDivsToken,_pBalEth,_pBalDyp,_pBalToken]);case 34:_yield$Promise$all3=_context7.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,7);pendingDivsEth=_yield$Promise$all4[0];pendingDivsComp=_yield$Promise$all4[1];pendingDivsDyp=_yield$Promise$all4[2];pendingDivsToken=_yield$Promise$all4[3];pendingBalEth=_yield$Promise$all4[4];pendingBalDyp=_yield$Promise$all4[5];pendingBalToken=_yield$Promise$all4[6];pendingDivsEth=new BigNumber(pendingDivsEth).plus(pendingBalEth).toFixed(0);pendingDivsToken=new BigNumber(pendingDivsToken).plus(pendingBalToken).toFixed(0);pendingDivsDyp=new BigNumber(pendingDivsDyp).plus(pendingBalDyp).toFixed(0);pendingRewardsInToken=pendingDivsDyp;_this.setState({pendingDivsComp:pendingDivsComp,pendingDivsDyp:pendingDivsDyp,pendingDivsEth:pendingDivsEth,pendingDivsToken:pendingDivsToken});_context7.next=53;break;case 50:_context7.prev=50;_context7.t0=_context7[\"catch\"](5);console.error(_context7.t0);case 53:window.token_dyp.balanceOf(coinbase).then(function(platform_token_balance){return _this.setState({platform_token_balance:platform_token_balance});});vault.totalDepositedTokens().then(function(totalDepositedTokens){//console.log({ totalDepositedTokens })\n_this.setState({totalDepositedTokens:totalDepositedTokens});}).catch(console.log);vault.totalEarnedCompoundDivs(coinbase).then(function(totalEarnedComp){return _this.setState({totalEarnedComp:totalEarnedComp});}).catch(console.log);vault.totalEarnedEthDivs(coinbase).then(function(totalEarnedEth){return _this.setState({totalEarnedEth:totalEarnedEth});}).catch(console.log);vault.totalEarnedTokenDivs(coinbase).then(function(totalEarnedToken){return _this.setState({totalEarnedToken:totalEarnedToken});}).catch(console.log);vault.totalEarnedPlatformTokenDivs(coinbase).then(function(totalEarnedDyp){return _this.setState({totalEarnedDyp:totalEarnedDyp});}).catch(console.log);vault.LOCKUP_DURATION().then(function(cliffTime){_this.setState({cliffTime:Number(cliffTime)});}).catch(console.error);vault.contractStartTime().then(function(contractDeployTime){_this.setState({contractDeployTime:contractDeployTime});});vault.REWARD_INTERVAL().then(function(disburseDuration){_this.setState({disburseDuration:disburseDuration});});_context7.next=64;return window.getPrices('defi-yield-protocol');case 64:usdPerToken=_context7.sent['defi-yield-protocol']['usd'];dId=window.config.cg_ids[vault.tokenAddress.toLowerCase()];_context7.next=68;return window.getPrices(dId);case 68:_context7.t1=dId;usdPerDepositToken=_context7.sent[_context7.t1]['usd'];//console.log({usdPerToken, usdPerDepositToken})\n_this.setState({usdPerToken:usdPerToken,usdPerDepositToken:usdPerDepositToken});if(!_this.state.rdepositAmount){usdValueOfPendingDivsInToken=usdPerDepositToken*pendingRewardsInToken/Math.pow(10,TOKEN_DECIMALS);dypAmount=usdValueOfPendingDivsInToken/usdPerToken;//console.log({ usdValueOfPendingDivsInToken, dypAmount })\n_this.setState({rdepositAmount:dypAmount.toFixed(19)});}case 72:case\"end\":return _context7.stop();}}},_callee7,null,[[5,50]]);}));_this.getApproxReturn=function(){var APY=_this.state.apy_percent;var approxDays=_this.state.approxDays;var approxDeposit=_this.state.approxDeposit;return approxDeposit*APY/100/365*approxDays;};_this.state={token_balance:'',platform_token_balance:'',pendingDivsEth:'',pendingDivsDyp:'',pendingDivsToken:'',pendingDivsComp:'',totalEarnedEth:'',totalEarnedDyp:'',totalEarnedToken:'',totalEarnedComp:'',cliffTime:'',stakingTime:'',depositedTokens:'',totalDepositedTokens:'',lastClaimedTime:'',depositAmount:'',withdrawAmount:'',rdepositAmount:'',coinbase:'',tvl_usd:'...',apy_percent:'...',owner:null,approxDeposit:100,approxDays:365,usdPerToken:'',usdPerDepositToken:'',gasPrice:'',contractDeployTime:'',disburseDuration:''};return _this;}_createClass(Vault,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.refreshBalance();window._refreshBalInterval=setInterval(this.refreshBalance,8000);vault.getTvlUsdAndApyPercent(UNDERLYING_DECIMALS).then(function(_ref10){var tvl_usd=_ref10.tvl_usd,apy_percent=_ref10.apy_percent;return _this2.setState({tvl_usd:tvl_usd,apy_percent:apy_percent});}).catch(console.error);fetch('https://data-api.defipulse.com/api/v1/egs/api/ethgasAPI.json?api-key=0cb24df6d59351fdfb85e84c264c1d89dada314bbd85bbb5bea318f7f995').then(function(res){return res.json();}).then(function(data){return _this2.setState({gasPrice:data.fast/10});}).catch(console.error);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(window._refreshBalInterval);}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,cliffTime=_this$state.cliffTime,token_balance=_this$state.token_balance,depositedTokens=_this$state.depositedTokens,stakingTime=_this$state.stakingTime,coinbase=_this$state.coinbase,pendingDivsComp=_this$state.pendingDivsComp,pendingDivsEth=_this$state.pendingDivsEth,pendingDivsToken=_this$state.pendingDivsToken,pendingDivsDyp=_this$state.pendingDivsDyp,totalEarnedComp=_this$state.totalEarnedComp,totalEarnedDyp=_this$state.totalEarnedDyp,totalEarnedEth=_this$state.totalEarnedEth,totalEarnedToken=_this$state.totalEarnedToken,disburseDuration=_this$state.disburseDuration,contractDeployTime=_this$state.contractDeployTime;pendingDivsEth=new BigNumber(pendingDivsEth).div(Math.pow(10,18)).toString(10);pendingDivsEth=getFormattedNumber(pendingDivsEth,18);pendingDivsToken=new BigNumber(pendingDivsToken).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);pendingDivsToken=getFormattedNumber(pendingDivsToken,TOKEN_DECIMALS);pendingDivsDyp=new BigNumber(pendingDivsDyp).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);pendingDivsDyp=getFormattedNumber(pendingDivsDyp,TOKEN_DECIMALS);pendingDivsComp=new BigNumber(pendingDivsComp).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);pendingDivsComp=getFormattedNumber(pendingDivsComp,TOKEN_DECIMALS);token_balance=new BigNumber(token_balance).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);token_balance=getFormattedNumber(token_balance,6);totalEarnedToken=new BigNumber(totalEarnedToken).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);totalEarnedToken=getFormattedNumber(totalEarnedToken,6);totalEarnedComp=new BigNumber(totalEarnedComp).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);totalEarnedComp=getFormattedNumber(totalEarnedComp,6);totalEarnedDyp=new BigNumber(totalEarnedDyp).div(Math.pow(10,18)).toString(10);totalEarnedDyp=getFormattedNumber(totalEarnedDyp,6);totalEarnedEth=new BigNumber(totalEarnedEth).div(Math.pow(10,18)).toString(10);totalEarnedEth=getFormattedNumber(totalEarnedEth,6);depositedTokens=new BigNumber(depositedTokens).div(Math.pow(10,TOKEN_DECIMALS)).toString(10);depositedTokens=getFormattedNumber(depositedTokens,6);stakingTime=stakingTime*1e3;cliffTime=cliffTime*1e3;var showDeposit=true;if(!isNaN(disburseDuration)&&!isNaN(contractDeployTime)){var lastDay=parseInt(disburseDuration)+parseInt(contractDeployTime);var lockTimeExpire=parseInt(Date.now())+parseInt(cliffTime);lockTimeExpire=lockTimeExpire.toString().substr(0,10);// console.log(\"now \" + lockTimeExpire)\n// console.log('last ' + lastDay)\nif(lockTimeExpire>lastDay){showDeposit=false;}}var cliffTimeInWords='lockup period';var canWithdraw=true;if(!isNaN(cliffTime)&&!isNaN(stakingTime)){if(Date.now()-stakingTime<=cliffTime){canWithdraw=false;cliffTimeInWords=moment.duration(cliffTime-(Date.now()-stakingTime)).humanize(true);}}var total_stakers=this.state.total_stakers;total_stakers=getFormattedNumber(total_stakers,0);var APY_TOTAL=this.state.apy_percent+platformTokenApyPercent;//console.log(total_stakers)\nvar isOwner=String(this.state.coinbase).toLowerCase()===String(window.config.admin_address).toLowerCase();var tvl_usd=getFormattedNumber(this.state.tvl_usd,2);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"token-staking mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row token-staking-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"l-box\"},showDeposit==true?/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"deposit-amount\",className:\"col-md-8 d-block text-left\"},\"DEPOSIT\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group \"},/*#__PURE__*/React.createElement(\"input\",{value:Number(this.state.depositAmount)>0?this.state.depositAmount:this.state.depositAmount,onChange:function onChange(e){return _this3.setState({depositAmount:e.target.value});},className:\"form-control left-radius\",placeholder:\"0\",type:\"text\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-append\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn  btn-primary right-radius btn-max l-light-btn\",style:{cursor:'pointer'},onClick:this.handleSetMaxDeposit},\"MAX\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingRight:'0.3rem'},className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleApprove,className:\"btn  btn-block btn-primary \",type:\"button\"},\"APPROVE\")),/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:'0.3rem'},className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleStake,className:\"btn  btn-block btn-primary l-outline-btn\",type:\"submit\"},\"DEPOSIT\"))),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'.8rem'},className:\"mt-1 text-center mb-0 text-muted mt-3\"},\"Please approve before deposit.\")):/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 d-block text-muted small\",style:{fontSize:'15px'}},/*#__PURE__*/React.createElement(\"b\",null,\"NOTE:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 d-block text-muted small\",style:{fontSize:'15px'}},\"1. Before you deposit your funds, please make sure that you double-check the contract expiration date. At the end of a contract, you can withdraw your funds only after the expiration of your lock time. Consider a scenario wherein you deposit funds to a contract that expires in 30 days, but you lock the funds for 90 days; you will then be able to withdraw the funds 60 days after the expiration of the contract. Furthermore, you will not receive any rewards during this period.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 d-block mb-0 text-muted small\",style:{fontSize:'15px'}},\"2. New contracts with improved strategies will be released after the current one expires.\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"l-box\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleWithdraw},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"deposit-amount\",className:\"d-block text-left\"},\"WITHDRAW\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group \"},/*#__PURE__*/React.createElement(\"input\",{value:this.state.withdrawAmount,onChange:function onChange(e){return _this3.setState({withdrawAmount:e.target.value});},className:\"form-control left-radius\",placeholder:\"0\",type:\"text\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-append\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn  btn-primary right-radius btn-max l-light-btn\",style:{cursor:'pointer'},onClick:this.handleSetMaxWithdraw},\"MAX\")))),/*#__PURE__*/React.createElement(\"button\",{title:canWithdraw?'':\"You recently deposited, you can withdraw \".concat(cliffTimeInWords),disabled:!canWithdraw,className:\"btn  btn-primary btn-block l-outline-btn\",type:\"submit\"},\"WITHDRAW\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'.8rem'},className:\"mt-1 text-center text-muted mt-3\"},\"0.3% fee for withdraw (75% distributed pro-rata among active vault users, whereas the remainder 25% is used to buy back DYP and burn it)\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"l-box\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleClaimDivs},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"deposit-amount\",className:\"text-left d-block\"},\"REWARDS\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"form-control  text-right\",style:{border:'none',marginBottom:0,paddingLeft:0,background:'transparent',color:'var(--text-color)'}},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:'1.2rem',color:'var(--text-color)'}},pendingDivsDyp),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"text-bold\"},token_symbol,\" worth DYP\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"form-control  text-right\",style:{border:'none',marginBottom:0,paddingLeft:0,background:'transparent',color:'var(--text-color)'}},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:'1.2rem',color:'var(--text-color)'}},pendingDivsEth),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"text-bold\"},\"ETH\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"form-control  text-right\",style:{border:'none',marginBottom:0,paddingLeft:0,background:'transparent',color:'var(--text-color)'}},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:'1.2rem',color:'var(--text-color)'}},pendingDivsComp),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"text-bold\"},token_symbol,\" (Compound)\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"form-control  text-right\",style:{border:'none',marginBottom:0,paddingLeft:0,background:'transparent',color:'var(--text-color)'}},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:'1.2rem',color:'var(--text-color)'}},pendingDivsToken),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"text-bold\"},token_symbol))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-2\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn  btn-primary btn-block l-outline-btn\",type:\"submit\"},\"CLAIM\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"l-box\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"deposit-amount\",className:\"col-12 d-block text-left\"},\"REINVEST\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"p\",null,\"Reinvest DYP into fixed staking with a 35% APR for a 4 months Lock Time. Please claim before reinvesting!\"),\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group \"},/*#__PURE__*/React.createElement(\"input\",{value:Number(this.state.rdepositAmount)>0?this.state.rdepositAmount:this.state.rdepositAmount,onChange:function onChange(e){return _this3.setState({rdepositAmount:e.target.value});},className:\"form-control left-radius\",placeholder:\"0\",type:\"text\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-append\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn  btn-primary right-radius btn-max l-light-btn\",style:{cursor:'pointer'},onClick:this.rhandleSetMaxDeposit},\"MAX\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingRight:'0.3rem'},className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleReinvestApprove,className:\"btn  btn-block btn-primary \",type:\"button\"},\"APPROVE\")),/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:'0.3rem'},className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleReinvestDeposit,className:\"btn  btn-block btn-primary l-outline-btn\",type:\"submit\"},\"REINVEST\"))),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'.8rem'},className:\"mt-1 text-center mb-0 text-muted mt-3\"},\"Please approve before reinvest.\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"l-box\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"deposit-amount\",className:\"d-block text-left\"},\"RETURN CALCULATOR\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"label\",{style:{fontSize:'1rem',fontWeight:'normal'}},token_symbol,\" to Deposit\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control \",value:this.state.approxDeposit,onChange:function onChange(e){return _this3.setState({approxDeposit:e.target.value});},placeholder:\"0\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"label\",{style:{fontSize:'1rem',fontWeight:'normal'}},\"Days\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control \",value:this.state.approxDays,onChange:function onChange(e){return _this3.setState({approxDays:e.target.value});},type:\"text\"})))),/*#__PURE__*/React.createElement(\"p\",null,\"Approx. \",getFormattedNumber(this.getApproxReturn(),6),\" \",token_symbol,\" worth rewards.\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'.8rem'},className:\"mt-1 text-center text-muted mt-3\"},\"Approx. Value Not Considering Fees or unstable APY.\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(Boxes,{items:[{title:'TVL USD',number:'$'+tvl_usd},{title:\"APY\",number:getFormattedNumber(APY_TOTAL,2)+'%'}]}),/*#__PURE__*/React.createElement(\"div\",{className:\"l-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:'1.1rem',fontWeight:'600',padding:'.3rem'}},\"STATS\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table-stats table table-sm table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"My Address\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(Address,{style:{fontFamily:'monospace'},a:coinbase}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Contract Address\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(Address,{style:{fontFamily:'monospace'},a:vault._address}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Contract Expiration\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,expiration_time))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"My \",token_symbol,\" Balance\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,token_balance),\" \",/*#__PURE__*/React.createElement(\"small\",null,token_symbol))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"My DYP Balance\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,getFormattedNumber(this.state.platform_token_balance/1e18,6)),\" \",/*#__PURE__*/React.createElement(\"small\",null,\"DYP\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"MY \",token_symbol,\" Deposit\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,depositedTokens),\" \",/*#__PURE__*/React.createElement(\"small\",null,token_symbol))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total \",token_symbol,\" Deposited\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,getFormattedNumber(this.state.totalDepositedTokens/Math.pow(10,TOKEN_DECIMALS),6)),\" \",/*#__PURE__*/React.createElement(\"small\",null,token_symbol))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"MY Share\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,getFormattedNumber(!this.state.totalDepositedTokens?'...':this.state.depositedTokens/this.state.totalDepositedTokens*100,2)),\" \",/*#__PURE__*/React.createElement(\"small\",null,\"%\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total Earned DYP\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,totalEarnedDyp),\" \",/*#__PURE__*/React.createElement(\"small\",null,\"DYP\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total Earned \",token_symbol,\" (Compound)\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,totalEarnedComp),\" \",/*#__PURE__*/React.createElement(\"small\",null,token_symbol))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total Earned \",token_symbol,\" (Fees)\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,totalEarnedToken),\" \",/*#__PURE__*/React.createElement(\"small\",null,token_symbol))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total Earned ETH\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,totalEarnedEth),\" \",/*#__PURE__*/React.createElement(\"small\",null,\"ETH\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"TVL USD\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,\"$\",tvl_usd),\" \",/*#__PURE__*/React.createElement(\"small\",null,\"USD\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"APY\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,getFormattedNumber(APY_TOTAL,2)),\" \",/*#__PURE__*/React.createElement(\"small\",null,\"%\"))),isOwner&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total Stakers\"),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"strong\",null,total_stakers),\" \",/*#__PURE__*/React.createElement(\"small\",null))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:{fontSize:'1rem',paddingTop:'2rem'},colSpan:\"2\",className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",rel:\"noopener noreferrer\",href:\"\".concat(window.config.etherscan_baseURL,\"/token/\").concat(token._address,\"?a=\").concat(coinbase)},\"View Transaction History on Etherscan\"),\" \\xA0 \",/*#__PURE__*/React.createElement(\"i\",{style:{fontSize:'.8rem'},className:\"fas fa-external-link-alt\"}))),/*#__PURE__*/React.createElement(\"tr\",null),isOwner&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{style:{fontSize:'1rem'},colSpan:\"2\",className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{onClick:this.handleListDownload,target:\"_blank\",rel:\"noopener noreferrer\",href:\"#\"},/*#__PURE__*/React.createElement(\"i\",{style:{fontSize:'.8rem'},className:\"fas fa-download\"}),\" Download Stakers List \"))))))))))));}}]);return Vault;}(React.Component);return Vault;}","map":{"version":3,"sources":["/home/kkk/Desktop/test/dyp-vault-themed-master/src/components/vault.js"],"names":["React","moment","getFormattedNumber","Address","Boxes","initVault","vault","platformTokenApyPercent","apr","liquidity","token","UNDERLYING_DECIMALS","UNDERLYING_SYMBOL","expiration_time","window","BigNumber","alertify","token_symbol","TOKEN_DECIMALS","download","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","jsonToCsv","items","replacer","key","value","header","Object","keys","csv","map","row","fieldName","JSON","stringify","join","unshift","handleDownload","stakers","stakingTimes","lastClaimedTimes","stakedTokens","list","forEach","staker","index","push","staker_address","staking_timestamp_unix","lastclaimed_timestamp_unix","staking_time","getDate","lastclaimed_time","staked_tokens","timestamp","a","Date","toUTCString","Vault","props","handleListDownload","e","preventDefault","m","message","ondismiss","step","getNumberOfHolders","length","Number","startIndex","console","log","endIndex","getDepositorsList","Math","min","array","concat","stakingTimestamps","lastClaimedTimeStamps","result","error","f","dismiss","handleApprove","amount","state","depositAmount","times","toFixed","approve","_address","handleReinvestApprove","rdepositAmount","token_dyp","config","constant_staking_address","handleStake","getMinEthFeeInWei","FEE_PERCENT_TO_BUYBACK_X_100","feeAmountEth","div","deadline","floor","now","tx_max_wait_seconds","getUniswapRouterContract","router","methods","WETH","call","platformTokenAddress","token_dyp_address","path","getAmountsOut","_amountOutMin_ethFeeBuyBack","slippage_tolerance_percent","deposit","handleReinvestDeposit","handleWithdraw","withdrawAmount","FEE_PERCENT_X_100","buyBackFeeAmountEth","feeAmountToken","buyBackFeeAmountToken","tokenFeePath","Set","toLowerCase","_amountOutMin_tokenFeeBuyBack","withdraw","MIN_ETH_FEE_IN_WEI","minEthFeeInWei","calculatedFee","gasPrice","max","handleClaimDivs","_amountOutMin_platformTokens","depositTokenAddress","platformToken","pendingDivsDyp","warn","claim","handleSetMaxDeposit","setState","token_balance","rhandleSetMaxDeposit","platform_token_balance","handleSetMaxWithdraw","depositedTokens","getAPY","refreshBalance","getCoinbase","coinbase","pendingRewardsInToken","_bal","balanceOf","_stakingTime","depositTime","_dTokens","depositTokenBalance","_lClaimTime","lastClaimedTime","tStakers","Promise","all","stakingTime","total_stakers","owner","_pDivsToken","tokenDivsOwing","_pDivsComp","getEstimatedCompoundDivsOwing","_pDivsDyp","platformTokenDivsOwing","_pDivsEth","ethDivsOwing","_pBalToken","tokenDivsBalance","_pBalEth","ethDivsBalance","_pBalDyp","platformTokenDivsBalance","pendingDivsEth","pendingDivsComp","pendingDivsToken","pendingBalEth","pendingBalDyp","pendingBalToken","plus","then","totalDepositedTokens","catch","totalEarnedCompoundDivs","totalEarnedComp","totalEarnedEthDivs","totalEarnedEth","totalEarnedTokenDivs","totalEarnedToken","totalEarnedPlatformTokenDivs","totalEarnedDyp","LOCKUP_DURATION","cliffTime","contractStartTime","contractDeployTime","REWARD_INTERVAL","disburseDuration","getPrices","usdPerToken","dId","cg_ids","tokenAddress","usdPerDepositToken","usdValueOfPendingDivsInToken","dypAmount","getApproxReturn","APY","apy_percent","approxDays","approxDeposit","tvl_usd","_refreshBalInterval","setInterval","getTvlUsdAndApyPercent","fetch","res","json","data","fast","clearInterval","toString","showDeposit","isNaN","lastDay","parseInt","lockTimeExpire","substr","cliffTimeInWords","canWithdraw","duration","humanize","APY_TOTAL","isOwner","String","admin_address","target","cursor","paddingRight","paddingLeft","fontSize","border","marginBottom","background","color","fontWeight","title","number","padding","fontFamily","paddingTop","etherscan_baseURL","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport moment from 'moment'\n// import { NavLink } from 'react-router-dom'\nimport getFormattedNumber from '../functions/get-formatted-number'\nimport Address from './address'\nimport Boxes from './boxes'\n// import Clipboard from 'react-clipboard.js'\n// import ReactTooltip from 'react-tooltip'\n\nexport default function initVault({ vault, platformTokenApyPercent, apr=72, liquidity='ETH', token, UNDERLYING_DECIMALS=18, UNDERLYING_SYMBOL='DAI', expiration_time }) {\n\n    let { BigNumber, alertify } = window\n    let token_symbol = UNDERLYING_SYMBOL\n\n    // token, staking\n\n    const TOKEN_DECIMALS = UNDERLYING_DECIMALS\n\n    function download(filename, text) {\n        var element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n        element.setAttribute('download', filename);\n\n        element.style.display = 'none';\n        document.body.appendChild(element);\n\n        element.click();\n\n        document.body.removeChild(element);\n    }\n\n    function jsonToCsv(items) {\n        const replacer = (key, value) => value === null ? '' : value // specify how you want to handle null values here\n        const header = Object.keys(items[0])\n        let csv = items.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','))\n        csv.unshift(header.join(','))\n        csv = csv.join('\\r\\n')\n        return csv\n    }\n\n    window.handleDownload = ({ stakers, stakingTimes, lastClaimedTimes, stakedTokens }) => {\n        let list = []\n        stakers.forEach((staker, index) => {\n            list.push({\n                staker_address: staker,\n                staking_timestamp_unix: stakingTimes[index],\n                lastclaimed_timestamp_unix: lastClaimedTimes[index],\n                staking_time: getDate(stakingTimes[index] * 1e3),\n                lastclaimed_time: getDate(lastClaimedTimes[index] * 1e3),\n                staked_tokens: stakedTokens[index]\n            })\n        })\n        download('depositors-list.csv', jsonToCsv(list))\n\n        function getDate(timestamp) {\n            let a = new Date(timestamp)\n            return a.toUTCString()\n        }\n    }\n\n    class Vault extends React.Component {\n        constructor(props) {\n            super(props)\n            this.state = {\n                token_balance: '',\n                platform_token_balance: '',\n\n                pendingDivsEth: '',\n                pendingDivsDyp: '',\n                pendingDivsToken: '',\n                pendingDivsComp: '',\n\n                totalEarnedEth: '',\n                totalEarnedDyp: '',\n                totalEarnedToken: '',\n                totalEarnedComp: '',\n\n                cliffTime: '',\n                stakingTime: '',\n                depositedTokens: '',\n                totalDepositedTokens: '',\n                lastClaimedTime: '',\n\n                depositAmount: '',\n                withdrawAmount: '',\n                rdepositAmount: '',\n\n                coinbase: '',\n                tvl_usd: '...',\n                apy_percent: '...',                \n                owner: null,\n                approxDeposit: 100 ,\n                approxDays: 365,\n                \n                usdPerToken: '',\n                usdPerDepositToken: '',\n\n                gasPrice: '',\n\n                contractDeployTime: '',\n                disburseDuration: ''\n\n            }\n        }\n\n        handleListDownload = async (e) => {\n            e.preventDefault()\n            let m = window.alertify.message(`Processing...`)\n            m.ondismiss = () => false\n            let step = 100;\n            let stakers = []\n            let stakingTimes = []\n            let lastClaimedTimes = []\n            let stakedTokens = []\n            let length = await vault.getNumberOfHolders()\n            length = Number(length)\n            try {\n                for (let startIndex = 0; startIndex < length; startIndex += step) {\n                    console.log({ startIndex, endIndex: startIndex + step })\n                    let array = await vault.getDepositorsList(startIndex, Math.min(startIndex + step, length))\n                    console.log(array)\n                    stakers = stakers.concat(array.stakers)\n                    stakingTimes = stakingTimes.concat(array.stakingTimestamps)\n                    lastClaimedTimes = lastClaimedTimes.concat(array.lastClaimedTimeStamps)\n                    stakedTokens = stakedTokens.concat(array.stakedTokens)\n                }\n                let result = { stakers, stakingTimes, lastClaimedTimes, stakedTokens }\n                window.handleDownload(result)\n            } catch (e) {\n                console.error(e)\n                alertify.error(\"Something went wrong while processing!\")\n            }\n            finally {\n                m.ondismiss = f => true\n                m.dismiss()\n            }\n        }\n\n        componentDidMount() {\n            this.refreshBalance()\n            window._refreshBalInterval = setInterval(this.refreshBalance, 8000)\n            vault.getTvlUsdAndApyPercent(UNDERLYING_DECIMALS)\n                .then(({tvl_usd, apy_percent}) => this.setState({tvl_usd, apy_percent}))\n                .catch(console.error)\n\n            fetch('https://data-api.defipulse.com/api/v1/egs/api/ethgasAPI.json?api-key=0cb24df6d59351fdfb85e84c264c1d89dada314bbd85bbb5bea318f7f995')\n                .then(res => res.json())\n                .then(data => this.setState({gasPrice: data.fast/10}))\n                .catch(console.error)\n        }\n\n        componentWillUnmount() {\n            clearInterval(window._refreshBalInterval)\n        }\n\n        handleApprove = (e) => {\n            e.preventDefault()\n            let amount = this.state.depositAmount\n            amount = new BigNumber(amount).times(10**UNDERLYING_DECIMALS).toFixed(0)\n            token.approve(vault._address, amount)\n        }\n        handleReinvestApprove = (e) => {\n            e.preventDefault()\n            let amount = this.state.rdepositAmount\n            amount = new BigNumber(amount).times(10**18).toFixed(0)\n            window.token_dyp.approve(window.config.constant_staking_address, amount)\n        }\n        handleStake = async (e) => {\n            let amount = this.state.depositAmount\n            amount = new BigNumber(amount).times(10**UNDERLYING_DECIMALS).toFixed(0)\n            let value = await this.getMinEthFeeInWei()\n\n            let FEE_PERCENT_TO_BUYBACK_X_100 = await vault.FEE_PERCENT_TO_BUYBACK_X_100()\n            let feeAmountEth = new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0)\n\n            let deadline = Math.floor(Date.now()/1e3 + window.config.tx_max_wait_seconds)\n            let router = await window.getUniswapRouterContract()\n\n            let WETH = await router.methods.WETH().call()\n            let platformTokenAddress = window.config.token_dyp_address\n\n            let path = [WETH, platformTokenAddress]\n\n            let _amountOutMin_ethFeeBuyBack = await router.methods.getAmountsOut(feeAmountEth, path).call()\n            _amountOutMin_ethFeeBuyBack = _amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length - 1]\n            _amountOutMin_ethFeeBuyBack = new BigNumber(_amountOutMin_ethFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n\n            //console.log({ _amountOutMin_ethFeeBuyBack, deadline, value })\n            vault.deposit([amount, _amountOutMin_ethFeeBuyBack, deadline], value)\n        }\n        handleReinvestDeposit = async (e) => {\n            let amount = this.state.rdepositAmount\n            amount = new BigNumber(amount).times(10**18).toFixed(0)\n            window.handleReinvestDeposit(amount)\n        }\n\n        handleWithdraw = async (e) => {\n            e.preventDefault()\n            let amount = this.state.withdrawAmount\n            amount = new BigNumber(amount).times(10**UNDERLYING_DECIMALS).toFixed(0)\n            let value = await this.getMinEthFeeInWei()\n\n            let FEE_PERCENT_X_100 = await vault.FEE_PERCENT_X_100()\n            let FEE_PERCENT_TO_BUYBACK_X_100 = await vault.FEE_PERCENT_TO_BUYBACK_X_100()\n            let buyBackFeeAmountEth = new BigNumber(value).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0)\n            let feeAmountToken = new BigNumber(amount).times(FEE_PERCENT_X_100).div(100e2).toFixed(0)\n            let buyBackFeeAmountToken = new BigNumber(feeAmountToken).times(FEE_PERCENT_TO_BUYBACK_X_100).div(100e2).toFixed(0)\n\n            let deadline = Math.floor(Date.now()/1e3 + window.config.tx_max_wait_seconds)\n            let router = await window.getUniswapRouterContract()\n\n            let WETH = await router.methods.WETH().call()\n            let platformTokenAddress = window.config.token_dyp_address\n\n            let path = [WETH, platformTokenAddress]\n\n            let _amountOutMin_ethFeeBuyBack = await router.methods.getAmountsOut(buyBackFeeAmountEth, path).call()\n            _amountOutMin_ethFeeBuyBack = _amountOutMin_ethFeeBuyBack[_amountOutMin_ethFeeBuyBack.length - 1]\n            _amountOutMin_ethFeeBuyBack = new BigNumber(_amountOutMin_ethFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n\n            let tokenFeePath = [...new Set([token._address , WETH, platformTokenAddress].map(a => a.toLowerCase()))]\n\n            let _amountOutMin_tokenFeeBuyBack = await router.methods.getAmountsOut(buyBackFeeAmountToken, tokenFeePath).call()\n            _amountOutMin_tokenFeeBuyBack = _amountOutMin_tokenFeeBuyBack[_amountOutMin_tokenFeeBuyBack.length - 1]\n            _amountOutMin_tokenFeeBuyBack = new BigNumber(_amountOutMin_tokenFeeBuyBack).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n            \n\n            //console.log({ _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline, value })\n\n            vault.withdraw([amount, _amountOutMin_ethFeeBuyBack, _amountOutMin_tokenFeeBuyBack, deadline], value)\n        }\n\n        getMinEthFeeInWei = async () => {\n            let minEthFeeInWei = Number(await vault.MIN_ETH_FEE_IN_WEI())\n            let calculatedFee = 0\n            if (this.state.gasPrice) {\n                calculatedFee = 400_000 * this.state.gasPrice * 10**9;\n            }\n            return Math.max(minEthFeeInWei, calculatedFee)\n        }\n\n        handleClaimDivs = async (e) => {\n            e.preventDefault()\n            let router = await window.getUniswapRouterContract()\n            let _amountOutMin_platformTokens = [ 0 ];\n            let depositTokenAddress = token._address\n            let platformToken = window.config.token_dyp_address\n            let WETH = await router.methods.WETH().call()\n            \n            let path = [...new Set([depositTokenAddress, WETH, platformToken].map(a => a.toLowerCase()))]\n\n            //console.log({ path })\n            try {\n                if (Number(this.state.pendingDivsDyp)) {\n                    //alert(this.state.pendingDivsDyp)\n                    _amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call()\n                }\n\n            } catch (e) {\n                console.warn(e)\n            }\n\n            //_amountOutMin_platformTokens = await router.methods.getAmountsOut(this.state.pendingDivsDyp, path).call()\n\n            _amountOutMin_platformTokens = _amountOutMin_platformTokens[_amountOutMin_platformTokens.length - 1]\n            _amountOutMin_platformTokens = new BigNumber(_amountOutMin_platformTokens).times(100 - window.config.slippage_tolerance_percent).div(100).toFixed(0)\n\n            //console.log({ _amountOutMin_platformTokens })\n            //alert(\"reached here!\")\n            vault.claim([_amountOutMin_platformTokens])\n        }\n\n        handleSetMaxDeposit = (e) => {\n            e.preventDefault()\n            this.setState({ depositAmount: new BigNumber(this.state.token_balance).div(10**UNDERLYING_DECIMALS).toFixed(UNDERLYING_DECIMALS) })\n        }\n        rhandleSetMaxDeposit = (e) => {\n            e.preventDefault()\n            this.setState({ rdepositAmount: new BigNumber(this.state.platform_token_balance).div(1e18).toFixed(18) })\n        }\n        handleSetMaxWithdraw = (e) => {\n            e.preventDefault()\n            this.setState({ withdrawAmount: new BigNumber(this.state.depositedTokens).div(10**UNDERLYING_DECIMALS).toFixed(UNDERLYING_DECIMALS) })\n        }\n\n        getAPY = () => {\n            return apr\n        }\n\n        refreshBalance = async () => {\n            let coinbase = await window.getCoinbase()\n            this.setState({ coinbase })\n            let pendingRewardsInToken = 0;\n            try {\n                let _bal = token.balanceOf(coinbase)\n                let _stakingTime = vault.depositTime(coinbase)\n                let _dTokens = vault.depositTokenBalance(coinbase)\n                let _lClaimTime = vault.lastClaimedTime(coinbase)\n                let tStakers = vault.getNumberOfHolders()\n                let [token_balance, stakingTime,\n                    depositedTokens, lastClaimedTime,\n                    total_stakers\n                ] = await Promise.all([_bal, _stakingTime, _dTokens, _lClaimTime, tStakers])\n\n                //console.log({total_stakers})\n\n                this.setState({\n                    token_balance,\n                    stakingTime,\n                    depositedTokens,\n                    lastClaimedTime,\n                    total_stakers,\n                })\n                let owner = await vault.owner()\n                this.setState({ owner })\n\n                let _pDivsToken = vault.tokenDivsOwing(coinbase)\n                let _pDivsComp = vault.getEstimatedCompoundDivsOwing(coinbase)\n                let _pDivsDyp = vault.platformTokenDivsOwing(coinbase)\n                let _pDivsEth = vault.ethDivsOwing(coinbase)\n\n                let _pBalToken = vault.tokenDivsBalance(coinbase)\n                let _pBalEth = vault.ethDivsBalance(coinbase)\n                let _pBalDyp = vault.platformTokenDivsBalance(coinbase)\n\n                let [pendingDivsEth, pendingDivsComp, pendingDivsDyp, pendingDivsToken,\n                    pendingBalEth, pendingBalDyp, pendingBalToken] = await Promise.all([_pDivsEth, _pDivsComp, _pDivsDyp, _pDivsToken,\n                    _pBalEth, _pBalDyp, _pBalToken])\n\n                pendingDivsEth = (new BigNumber(pendingDivsEth)).plus(pendingBalEth).toFixed(0)\n                pendingDivsToken = (new BigNumber(pendingDivsToken)).plus(pendingBalToken).toFixed(0)\n                pendingDivsDyp = (new BigNumber(pendingDivsDyp)).plus(pendingBalDyp).toFixed(0)\n\n                pendingRewardsInToken = pendingDivsDyp\n\n                this.setState({\n                    pendingDivsComp, pendingDivsDyp, pendingDivsEth, pendingDivsToken\n                })\n\n            } catch (e) {\n                console.error(e)\n            }\n\n            window.token_dyp.balanceOf(coinbase).then(platform_token_balance => this.setState({platform_token_balance}))\n\n            vault.totalDepositedTokens().then(totalDepositedTokens => {\n                //console.log({ totalDepositedTokens })\n                this.setState({totalDepositedTokens})\n            }).catch(console.log)\n\n            vault.totalEarnedCompoundDivs(coinbase).then(totalEarnedComp => this.setState({ totalEarnedComp })).catch(console.log)\n            vault.totalEarnedEthDivs(coinbase).then(totalEarnedEth => this.setState({ totalEarnedEth })).catch(console.log)\n            vault.totalEarnedTokenDivs(coinbase).then(totalEarnedToken => this.setState({ totalEarnedToken })).catch(console.log)\n            vault.totalEarnedPlatformTokenDivs(coinbase).then(totalEarnedDyp => this.setState({ totalEarnedDyp })).catch(console.log)\n\n            vault.LOCKUP_DURATION().then((cliffTime) => {\n                this.setState({ cliffTime: Number(cliffTime) })\n            }).catch(console.error)\n\n            vault.contractStartTime().then(contractDeployTime => {\n                this.setState({ contractDeployTime })\n            })\n\n            vault.REWARD_INTERVAL().then(disburseDuration => {\n                this.setState({ disburseDuration })\n            })\n\n            let usdPerToken = (await window.getPrices('defi-yield-protocol'))['defi-yield-protocol']['usd']\n            let dId = window.config.cg_ids[vault.tokenAddress.toLowerCase()]\n            let usdPerDepositToken = (await window.getPrices(dId))[dId]['usd']\n            //console.log({usdPerToken, usdPerDepositToken})\n            this.setState({usdPerToken, usdPerDepositToken})\n            \n            if (!this.state.rdepositAmount) {\n                let usdValueOfPendingDivsInToken = usdPerDepositToken * pendingRewardsInToken / 10**TOKEN_DECIMALS \n                let dypAmount = usdValueOfPendingDivsInToken / usdPerToken\n                //console.log({ usdValueOfPendingDivsInToken, dypAmount })\n                this.setState({rdepositAmount: dypAmount.toFixed(19)})\n            }\n        }\n\n\n        getApproxReturn = () => {\n            let APY = this.state.apy_percent\n            let approxDays = this.state.approxDays\n            let approxDeposit = this.state.approxDeposit\n\n            return ( approxDeposit * APY / 100 / 365 * approxDays)\n        }\n\n        render() {\n\n            let {   cliffTime, \n                    token_balance, \n                    depositedTokens, \n                    stakingTime, \n                    coinbase, \n\n                    pendingDivsComp,\n                    pendingDivsEth,\n                    pendingDivsToken,\n                    pendingDivsDyp,\n\n                    totalEarnedComp,\n                    totalEarnedDyp,\n                    totalEarnedEth, \n                    totalEarnedToken,\n                    disburseDuration,\n                    contractDeployTime\n            } = this.state\n\n            \n            pendingDivsEth = new BigNumber(pendingDivsEth ).div(10 ** 18).toString(10)\n            pendingDivsEth = getFormattedNumber(pendingDivsEth, 18)\n\n            pendingDivsToken = new BigNumber(pendingDivsToken ).div(10 ** TOKEN_DECIMALS).toString(10)\n            pendingDivsToken = getFormattedNumber(pendingDivsToken, TOKEN_DECIMALS)\n\n            pendingDivsDyp = new BigNumber(pendingDivsDyp ).div(10 ** TOKEN_DECIMALS).toString(10)\n            pendingDivsDyp = getFormattedNumber(pendingDivsDyp, TOKEN_DECIMALS)\n\n            pendingDivsComp = new BigNumber(pendingDivsComp ).div(10 ** TOKEN_DECIMALS).toString(10)\n            pendingDivsComp = getFormattedNumber(pendingDivsComp, TOKEN_DECIMALS)\n\n            token_balance = new BigNumber(token_balance ).div(10 ** TOKEN_DECIMALS).toString(10)\n            token_balance = getFormattedNumber(token_balance, 6)\n\n\n            totalEarnedToken = new BigNumber(totalEarnedToken).div(10 ** TOKEN_DECIMALS).toString(10)\n            totalEarnedToken = getFormattedNumber(totalEarnedToken, 6)\n\n            totalEarnedComp = new BigNumber(totalEarnedComp).div(10 ** TOKEN_DECIMALS).toString(10)\n            totalEarnedComp = getFormattedNumber(totalEarnedComp, 6)\n\n            totalEarnedDyp = new BigNumber(totalEarnedDyp).div(10 ** 18).toString(10)\n            totalEarnedDyp = getFormattedNumber(totalEarnedDyp, 6)\n\n            totalEarnedEth = new BigNumber(totalEarnedEth).div(10 ** 18).toString(10)\n            totalEarnedEth = getFormattedNumber(totalEarnedEth, 6)\n\n            depositedTokens = new BigNumber(depositedTokens).div(10**TOKEN_DECIMALS).toString(10)\n            depositedTokens = getFormattedNumber(depositedTokens, 6)\n\n            stakingTime = stakingTime * 1e3\n            cliffTime = cliffTime * 1e3\n\n            let showDeposit = true\n\n            if (!isNaN(disburseDuration) && !isNaN(contractDeployTime)){\n                let lastDay = parseInt(disburseDuration) + parseInt(contractDeployTime)\n                let lockTimeExpire = parseInt(Date.now()) + parseInt(cliffTime)\n                lockTimeExpire = lockTimeExpire.toString().substr(0,10)\n                // console.log(\"now \" + lockTimeExpire)\n                // console.log('last ' + lastDay)\n                if (lockTimeExpire > lastDay) {\n                    showDeposit = false\n                }\n            }\n\n            let cliffTimeInWords = 'lockup period'\n\n            let canWithdraw = true\n            if (!isNaN(cliffTime) && !isNaN(stakingTime)) {\n                if (Date.now() - stakingTime <= cliffTime) {\n                    canWithdraw = false\n                    cliffTimeInWords = moment.duration((cliffTime - (Date.now() - stakingTime))).humanize(true)\n                }\n            }\n\n            let total_stakers = this.state.total_stakers\n            total_stakers = getFormattedNumber(total_stakers, 0)\n\n            let APY_TOTAL = this.state.apy_percent + platformTokenApyPercent\n\n            //console.log(total_stakers)\n\n            let isOwner = String(this.state.coinbase).toLowerCase() === String(window.config.admin_address).toLowerCase()\n\n            let tvl_usd = getFormattedNumber(this.state.tvl_usd, 2)\n\n            return (<div>\n                \n                <div className='container'>\n                    <div className='token-staking mt-5'>\n                        <div className='row'>\n                            <div className='col-lg-6'>\n                                <div className='row token-staking-form'>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                            {showDeposit == true ?\n                                                <form onSubmit={e => e.preventDefault()}>\n                                                    <div className='form-group'>\n                                                        <div className='row'>\n                                                            <label htmlFor='deposit-amount' className='col-md-8 d-block text-left'>DEPOSIT</label>\n                                                            {/*<div className='col-4'>*/}\n                                                            {/*    <a target='_blank' rel='noopener noreferrer' href={`https://app.uniswap.org/#/add/0x961C8c0B1aaD0c0b10a51FeF6a867E3091BCef17/${liquidity}`} >*/}\n                                                            {/*        <button className='btn btn-sm btn-block btn-primary ' type='button'>*/}\n                                                            {/*            ADD LIQUIDITY*/}\n                                                            {/*</button>*/}\n                                                            {/*    </a>*/}\n                                                            {/*</div>*/}\n                                                        </div>\n                                                        <div className='input-group '>\n                                                            <input value={Number(this.state.depositAmount) > 0 ? this.state.depositAmount  : this.state.depositAmount} onChange={e => this.setState({ depositAmount: e.target.value })} className='form-control left-radius' placeholder='0' type='text' />\n                                                            <div className='input-group-append'>\n                                                                <button className='btn  btn-primary right-radius btn-max l-light-btn' style={{ cursor: 'pointer' }} onClick={this.handleSetMaxDeposit}>\n                                                                    MAX\n                                                        </button>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className='row'>\n                                                        <div style={{ paddingRight: '0.3rem' }} className='col-6'>\n                                                            <button onClick={this.handleApprove} className='btn  btn-block btn-primary ' type='button'>\n                                                                APPROVE\n                                                    </button>\n                                                        </div>\n                                                        <div style={{ paddingLeft: '0.3rem' }} className='col-6'>\n                                                            <button onClick={this.handleStake} className='btn  btn-block btn-primary l-outline-btn' type='submit'>\n                                                                DEPOSIT\n                                                    </button>\n                                                        </div>\n                                                    </div>\n                                                    <p style={{ fontSize: '.8rem' }} className='mt-1 text-center mb-0 text-muted mt-3'>\n                                                        {/* Some info text here.<br /> */}\n                                                        Please approve before deposit.\n                                                    </p>\n\n                                                </form>\n                                                :\n                                                <div className='row'>\n                                                    <div className='col-md-12 d-block text-muted small'\n                                                         style={{fontSize: '15px'}}>\n                                                        <b>NOTE:</b>\n                                                    </div>\n                                                    <div className='col-md-12 d-block text-muted small' style={{fontSize: '15px'}}>\n                                                        1. Before you deposit your funds, please make sure that you double-check the contract expiration date. At the end of a contract, you can withdraw your funds only after the expiration of your lock time. Consider a scenario wherein you deposit funds to a contract that expires in 30 days, but you lock the funds for 90 days; you will then be able to withdraw the funds 60 days after the expiration of the contract. Furthermore, you will not receive any rewards during this period.\n                                                    </div>\n                                                    <div className='col-md-12 d-block mb-0 text-muted small'\n                                                         style={{fontSize: '15px'}}>\n                                                        2. New contracts with improved strategies will be released after the current one expires.\n                                                    </div>\n                                                </div>\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={this.handleWithdraw}>\n                                            <div className='form-group'>\n                                                <label htmlFor='deposit-amount' className='d-block text-left'>WITHDRAW</label>\n                                                <div className='input-group '>\n                                                    <input value={this.state.withdrawAmount} onChange={e => this.setState({ withdrawAmount:e.target.value })} className='form-control left-radius' placeholder='0' type='text' />\n                                                    <div className='input-group-append'>\n                                                        <button className='btn  btn-primary right-radius btn-max l-light-btn' style={{ cursor: 'pointer' }} onClick={this.handleSetMaxWithdraw}>\n                                                            MAX\n                                                </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <button title={canWithdraw ? '' : `You recently deposited, you can withdraw ${cliffTimeInWords}`} disabled={!canWithdraw} className='btn  btn-primary btn-block l-outline-btn' type='submit'>\n                                                WITHDRAW\n                                    </button>\n                                            <p style={{fontSize: '.8rem'}} className='mt-1 text-center text-muted mt-3'>0.3% fee for withdraw (75% distributed pro-rata among active vault users, whereas the remainder 25% is used to buy back DYP and burn it)</p>\n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={this.handleClaimDivs}>\n                                            <div className='form-group'>\n                                                <label htmlFor='deposit-amount' className='text-left d-block'>REWARDS</label>\n                                                <div className='form-row'>\n                                                    {/* <div className='col-md-6'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: '#222' }}><span style={{ fontSize: '1.2rem', color: 'rgb(255, 0, 122)' }}>{pendingDivsEth}</span> <small className='text-bold'>WETH</small></p>\n                                                    </div> */}\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsDyp}</span> <small className='text-bold'>{token_symbol} worth DYP</small></p>\n                                                    </div>\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsEth}</span> <small className='text-bold'>ETH</small></p>\n                                                    </div>\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsComp}</span> <small className='text-bold'>{token_symbol} (Compound)</small></p>\n                                                    </div>\n                                                    <div className='col-md-12'>\n                                                        <p className='form-control  text-right' style={{ border: 'none', marginBottom: 0, paddingLeft: 0, background: 'transparent', color: 'var(--text-color)' }}><span style={{ fontSize: '1.2rem', color: 'var(--text-color)' }}>{pendingDivsToken}</span> <small className='text-bold'>{token_symbol}</small></p>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className='form-row'>\n                                                <div className='col-md-12 mb-2'>\n                                                    <button className='btn  btn-primary btn-block l-outline-btn' type='submit'>\n                                                        CLAIM\n                                                    </button>\n                                                </div>\n                                                {/* <div className='col-md-6 mb-2'>\n                                                    <button className='btn  btn-primary btn-block' type='button' onClick={this.handleReinvest}>\n                                                        REINVEST\n                                                    </button>\n                                                </div> */}\n                                            </div>\n                                           \n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'>\n                                        <form onSubmit={e => e.preventDefault()}>\n                                            <div className='form-group'>\n                                                <div className='row'>\n                                                    <label htmlFor='deposit-amount' className='col-12 d-block text-left'>REINVEST</label>\n                                                    <div className='col-12'><p>Reinvest DYP into fixed staking with a 35% APR for a 4 months Lock Time. Please claim before reinvesting!</p> </div>\n                                                </div>\n                                                <div className='input-group '>\n                                                    <input value={Number(this.state.rdepositAmount) > 0 ? this.state.rdepositAmount  : this.state.rdepositAmount} onChange={e => this.setState({ rdepositAmount: e.target.value })} className='form-control left-radius' placeholder='0' type='text' />\n                                                    <div className='input-group-append'>\n                                                        <button className='btn  btn-primary right-radius btn-max l-light-btn' style={{ cursor: 'pointer' }} onClick={this.rhandleSetMaxDeposit}>\n                                                            MAX\n                                                </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className='row'>\n                                                <div style={{ paddingRight: '0.3rem' }} className='col-6'>\n                                                    <button onClick={this.handleReinvestApprove} className='btn  btn-block btn-primary ' type='button'>\n                                                        APPROVE\n                                            </button>\n                                                </div>\n                                                <div style={{ paddingLeft: '0.3rem' }} className='col-6'>\n                                                    <button onClick={this.handleReinvestDeposit} className='btn  btn-block btn-primary l-outline-btn' type='submit'>\n                                                        REINVEST\n                                            </button>\n                                                </div>\n                                            </div>\n                                            <p style={{ fontSize: '.8rem' }} className='mt-1 text-center mb-0 text-muted mt-3'>\n                                                {/* Some info text here.<br /> */}\n                                        Please approve before reinvest.\n                                    </p>\n\n                                        </form>\n                                        </div>\n                                    </div>\n                                    <div className='col-12'>\n                                        <div className='l-box'> \n                                        <form onSubmit={(e) => e.preventDefault()}>\n                                            <div className='form-group'>\n                                                <label htmlFor='deposit-amount' className='d-block text-left'>RETURN CALCULATOR</label>\n                                                <div className='row'>\n                                                    <div className='col'>\n                                                        <label style={{ fontSize: '1rem', fontWeight: 'normal' }}>{token_symbol} to Deposit</label>\n                                                        <input className='form-control ' value={ this.state.approxDeposit} onChange={e => this.setState({ approxDeposit: e.target.value })} placeholder='0' type='text' />\n                                                    </div>\n                                                    <div className='col'>\n                                                        <label style={{ fontSize: '1rem', fontWeight: 'normal' }}>Days</label>\n                                                        <input className='form-control ' value={this.state.approxDays} onChange={e => this.setState({ approxDays: e.target.value })} type='text' />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <p>\n                                                Approx. {getFormattedNumber(this.getApproxReturn(), 6)} {token_symbol} worth rewards.\n                                    </p>\n                                            <p style={{ fontSize: '.8rem' }} className='mt-1 text-center text-muted mt-3'>Approx. Value Not Considering Fees or unstable APY.</p>\n                                        </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-lg-6'>\n                            <Boxes items={[\n                                {\n                                    title: 'TVL USD',\n                                    number: '$'+tvl_usd\n                                },\n                                {\n                                    title: `APY`,\n                                    number: getFormattedNumber(APY_TOTAL, 2) + '%'\n                                }\n                            ]} />\n                                <div className='l-box'>\n                                <div className='table-responsive'>\n                                    <h3 style={{ fontSize: '1.1rem', fontWeight: '600', padding: '.3rem' }}>STATS</h3>\n                                    <table className='table-stats table table-sm table-borderless'>\n                                        <tbody>\n                                            <tr>\n                                                <th>My Address</th>\n                                                <td className='text-right'>\n                                                    <Address style={{ fontFamily: 'monospace' }} a={coinbase} />\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <th>Contract Address</th>\n                                                <td className='text-right'>\n                                                    <Address style={{ fontFamily: 'monospace' }} a={vault._address} />\n                                                </td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>Contract Expiration</th>\n                                                <td className=\"text-right\"><strong>{expiration_time}</strong></td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>My {token_symbol} Balance</th>\n                                                <td className=\"text-right\"><strong>{token_balance}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>My DYP Balance</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(this.state.platform_token_balance/1e18, 6)}</strong> <small>DYP</small></td>\n                                            </tr>\n                                    \n                                            <tr>\n                                                <th>MY {token_symbol} Deposit</th>\n                                                <td className=\"text-right\"><strong>{depositedTokens}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n\n                                            <tr>\n                                                <th>Total {token_symbol} Deposited</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(this.state.totalDepositedTokens/10**TOKEN_DECIMALS, 6)}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>MY Share</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(!this.state.totalDepositedTokens ?'...' :this.state.depositedTokens/(this.state.totalDepositedTokens)*100, 2)}</strong> <small>%</small></td>\n                                            </tr>\n                                           \n                                            <tr>\n                                                <th>Total Earned DYP</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedDyp}</strong> <small>DYP</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total Earned {token_symbol} (Compound)</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedComp}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total Earned {token_symbol} (Fees)</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedToken}</strong> <small>{token_symbol}</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total Earned ETH</th>\n                                                <td className=\"text-right\"><strong>{totalEarnedEth}</strong> <small>ETH</small></td>\n                                            </tr>\n                    \n                                            <tr>\n                                                <th>TVL USD</th>\n                                                <td className=\"text-right\"><strong>${tvl_usd}</strong> <small>USD</small></td>\n                                            </tr>\n                                            <tr>\n                                                <th>APY</th>\n                                                <td className=\"text-right\"><strong>{getFormattedNumber(APY_TOTAL, 2)}</strong> <small>%</small></td>\n                                            </tr>\n                                            {isOwner && <tr>\n                                               <th>Total Stakers</th>\n                                               <td className=\"text-right\"><strong>{total_stakers}</strong> <small></small></td>\n                                            </tr>}\n                                            {/* <tr>\n                                        <th>Pending</th>\n                                        <td className=\"text-right\"><strong>{pendingDivs}</strong> <small>DYP</small></td>\n                                    </tr> */}\n\n                                            <tr>\n                                                <td style={{ fontSize: '1rem', paddingTop: '2rem' }} colSpan='2' className='text-center'>\n                                                    <a target='_blank' rel='noopener noreferrer' href={`${window.config.etherscan_baseURL}/token/${token._address}?a=${coinbase}`}>View Transaction History on Etherscan</a> &nbsp; <i style={{ fontSize: '.8rem' }} className='fas fa-external-link-alt'></i>\n                                                </td>\n                                            </tr>\n                                           \n                                            <tr>\n                                        \n                                    </tr>\n                                            {isOwner && <tr>\n                                                <td style={{ fontSize: '1rem' }} colSpan='2' className='text-center'>\n                                                    <a onClick={this.handleListDownload} target='_blank' rel='noopener noreferrer' href='#'><i style={{ fontSize: '.8rem' }} className='fas fa-download'></i> Download Stakers List </a>\n                                                </td>\n                                            </tr>}\n                                        </tbody>\n                                    </table>\n                                </div>\n                                </div>\n                            </div>\n                        </div>\n\n\n                        {/* <div className='mt-3 text-center'>\n                    <p><small>Some info text here</small></p>\n                </div> */}\n                    </div>\n                </div>\n            </div>\n            )\n        }\n    }\n\n\n    return Vault\n}\n"]},"metadata":{},"sourceType":"module"}